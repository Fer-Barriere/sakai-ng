import{a as St,b as wt}from"./chunk-ZJKOZ2XD.js";import{A as Ne,B as Ge,a as Et,b as Pe,d as It,f as kt,g as jt,h as Te,i as Vt,j as Nt,m as Ft,n as Ot,p as Me,q as Ee,r as Ie,s as Bt,t as qt,u as Dt,v as $t,w as ke,x as je,y as Lt,z as Ve}from"./chunk-GU37BIJQ.js";import{a as ye}from"./chunk-XI77HJ3M.js";import{f as Se,i as we}from"./chunk-IJPNSO3M.js";import{C as ct,Ca as bt,Da as yt,Ea as xt,Fa as ve,G as pt,Ga as be,Ia as Ct,Ma as Pt,N as Qe,Oa as Tt,Pa as Mt,Sa as xe,T as mt,Ta as Ce,U as ut,a as ge,aa as gt,ha as B,la as q,ma as _t,na as ft,oa as ht,pa as D,qa as $,r as lt,sa as vt,wa as he,y as dt}from"./chunk-5FM72UVI.js";import{$a as c,Ab as h,Ac as st,Ba as Xe,Bb as F,Bc as We,Da as s,Db as L,Dc as _e,Ea as T,Eb as ze,Ec as fe,Fb as S,Fc as Re,Gb as w,Hb as P,Ib as O,Jb as X,Ka as R,Kb as tt,Lb as He,Na as k,Oa as oe,P as z,Q as ie,Ra as re,Sa as et,Sb as it,Ta as _,Tb as ot,U as Ye,Ub as rt,V as H,Yb as le,Zb as nt,_a as ne,a as J,ab as Je,b as A,ba as u,ca as g,cb as K,db as ae,fa as W,ib as n,jb as a,ka as $e,kb as x,la as Ke,lb as Q,mb as G,mc as de,nb as U,nc as ce,ob as y,oc as j,pb as f,pc as pe,qb as m,qc as me,rb as se,rc as at,sb as Z,sc as V,tb as C,ub as M,uc as ue,wb as E,xb as I,yb as Ae,za as Le,zb as l}from"./chunk-X3MJR35J.js";var Rt=["header"],Qt=["title"],Gt=["subtitle"],Ut=["content"],Zt=["footer"],Yt=["*",[["p-header"]],[["p-footer"]]],Kt=["*","p-header","p-footer"];function Xt(t,o){t&1&&U(0)}function ei(t,o){if(t&1&&(n(0,"div",8),Z(1,1),_(2,Xt,1,0,"ng-container",6),a()),t&2){let e=m();s(2),c("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function ti(t,o){if(t&1&&(Q(0),l(1),G()),t&2){let e=m(2);s(),h(e.header)}}function ii(t,o){t&1&&U(0)}function oi(t,o){if(t&1&&(n(0,"div",9),_(1,ti,2,1,"ng-container",10)(2,ii,1,0,"ng-container",6),a()),t&2){let e=m();s(),c("ngIf",e.header&&!e._titleTemplate&&!e.titleTemplate),s(),c("ngTemplateOutlet",e.titleTemplate||e._titleTemplate)}}function ri(t,o){if(t&1&&(Q(0),l(1),G()),t&2){let e=m(2);s(),h(e.subheader)}}function ni(t,o){t&1&&U(0)}function ai(t,o){if(t&1&&(n(0,"div",11),_(1,ri,2,1,"ng-container",10)(2,ni,1,0,"ng-container",6),a()),t&2){let e=m();s(),c("ngIf",e.subheader&&!e._subtitleTemplate&&!e.subtitleTemplate),s(),c("ngTemplateOutlet",e.subtitleTemplate||e._subtitleTemplate)}}function si(t,o){t&1&&U(0)}function li(t,o){t&1&&U(0)}function di(t,o){if(t&1&&(n(0,"div",12),Z(1,2),_(2,li,1,0,"ng-container",6),a()),t&2){let e=m();s(2),c("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var ci=({dt:t})=>`
.p-card {
    background: ${t("card.background")};
    color: ${t("card.color")};
    box-shadow: ${t("card.shadow")};
    border-radius: ${t("card.border.radius")};
    display: flex;
    flex-direction: column;
}

.p-card-caption {
    display: flex;
    flex-direction: column;
    gap: ${t("card.caption.gap")};
}

.p-card-body {
    padding: ${t("card.body.padding")};
    display: flex;
    flex-direction: column;
    gap: ${t("card.body.gap")};
}

.p-card-title {
    font-size: ${t("card.title.font.size")};
    font-weight: ${t("card.title.font.weight")};
}

.p-card-subtitle {
    color: ${t("card.subtitle.color")};
}
`,pi={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},Jt=(()=>{class t extends he{name="card";theme=ci;classes=pi;static \u0275fac=(()=>{let e;return function(r){return(e||(e=W(t)))(r||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var te=(()=>{class t extends be{header;subheader;set style(e){gt(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=R(null);_componentStyle=H(Jt);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"title":this._titleTemplate=e.template;break;case"subtitle":this._subtitleTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(r){return(e||(e=W(t)))(r||t)}})();static \u0275cmp=k({type:t,selectors:[["p-card"]],contentQueries:function(i,r,d){if(i&1&&(M(d,ft,5),M(d,ht,5),M(d,Rt,4),M(d,Qt,4),M(d,Gt,4),M(d,Ut,4),M(d,Zt,4),M(d,D,4)),i&2){let p;E(p=I())&&(r.headerFacet=p.first),E(p=I())&&(r.footerFacet=p.first),E(p=I())&&(r.headerTemplate=p.first),E(p=I())&&(r.titleTemplate=p.first),E(p=I())&&(r.subtitleTemplate=p.first),E(p=I())&&(r.contentTemplate=p.first),E(p=I())&&(r.footerTemplate=p.first),E(p=I())&&(r.templates=p)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[O([Jt]),re],ngContentSelectors:Kt,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[4,"ngIf"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(i,r){i&1&&(se(Yt),n(0,"div",0),_(1,ei,3,1,"div",1),n(2,"div",2),_(3,oi,3,2,"div",3)(4,ai,3,2,"div",4),n(5,"div",5),Z(6),_(7,si,1,0,"ng-container",6),a(),_(8,di,3,1,"div",7),a()()),i&2&&(ae(r.styleClass),c("ngClass","p-card p-component")("ngStyle",r._style()),ne("data-pc-name","card"),s(),c("ngIf",r.headerFacet||r.headerTemplate||r._headerTemplate),s(2),c("ngIf",r.header||r.titleTemplate||r._titleTemplate),s(),c("ngIf",r.subheader||r.subtitleTemplate||r._subtitleTemplate),s(3),c("ngTemplateOutlet",r.contentTemplate||r._contentTemplate),s(),c("ngIf",r.footerFacet||r.footerTemplate||r._footerTemplate))},dependencies:[V,de,j,me,pe,$],encapsulation:2,changeDetection:0})}return t})(),Oe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=ie({imports:[te,$,$]})}return t})();var mi=["content"],ui=["*"],gi=(t,o)=>({showTransitionParams:t,hideTransitionParams:o}),_i=(t,o)=>({value:t,params:o}),fi=t=>({closeCallback:t});function hi(t,o){}function vi(t,o){t&1&&_(0,hi,0,0,"ng-template")}function bi(t,o){if(t&1){let e=y();n(0,"div",1),f("click",function(r){u(e);let d=m();return g(d.onOverlayClick(r))})("@animation.start",function(r){u(e);let d=m();return g(d.onAnimationStart(r))})("@animation.done",function(r){u(e);let d=m();return g(d.onAnimationEnd(r))}),n(1,"div",2),f("click",function(r){u(e);let d=m();return g(d.onContentClick(r))})("mousedown",function(r){u(e);let d=m();return g(d.onContentClick(r))}),Z(2),_(3,vi,1,0,null,3),a()()}if(t&2){let e=m();ae(e.styleClass),c("ngClass","p-popover p-component")("ngStyle",e.style)("@animation",He(13,_i,e.overlayVisible?"open":"close",He(10,gi,e.showTransitionOptions,e.hideTransitionOptions))),ne("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),s(3),c("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",tt(16,fi,e.onCloseClick.bind(e)))}}var yi=({dt:t})=>`
.p-popover {
    margin-top: ${t("popover.gutter")};
    background: ${t("popover.background")};
    color: ${t("popover.color")};
    border: 1px solid ${t("popover.border.color")};
    border-radius: ${t("popover.border.radius")};
    box-shadow: ${t("popover.shadow")};
    position: absolute
}

.p-popover-content {
    padding: ${t("popover.content.padding")};
}

.p-popover-flipped {
    margin-top: calc(${t("popover.gutter")} * -1);
    margin-bottom: ${t("popover.gutter")};
}

.p-popover-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-popover-leave-to {
    opacity: 0;
}

.p-popover-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-popover-leave-active {
    transition: opacity 0.1s linear;
}

.p-popover:after,
.p-popover:before {
    bottom: 100%;
    left: calc(${t("popover.arrow.offset")} + ${t("popover.arrow.left")});
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.p-popover:after {
    border-width: calc(${t("popover.gutter")} - 2px);
    margin-left: calc(-1 * (${t("popover.gutter")} - 2px));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${t("popover.background")};
}

.p-popover:before {
    border-width: ${t("popover.gutter")};
    margin-left: calc(-1 * ${t("popover.gutter")});
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${t("popover.border.color")};
}

.p-popover-flipped:after,
.p-popover-flipped:before {
    bottom: auto;
    top: 100%;
}

.p-popover.p-popover-flipped:after {
    border-bottom-color: transparent;
    border-top-color: ${t("popover.background")};
}

.p-popover.p-popover-flipped:before {
    border-bottom-color: transparent;
    border-top-color: ${t("popover.border.color")};
}

`,xi={root:"p-popover p-component",content:"p-popover-content"},zt=(()=>{class t extends he{name="popover";theme=yi;classes=xi;static \u0275fac=(()=>{let e;return function(r){return(e||(e=W(t)))(r||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Ue=(()=>{class t extends be{ariaLabel;ariaLabelledBy;dismissable=!0;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new $e;onHide=new $e;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;templates;_contentTemplate;destroyCallback;overlayEventListener;overlaySubscription;_componentStyle=H(zt);zone=H(Ke);overlayService=H(_t);ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break}})}bindDocumentClickListener(){if(ue(this.platformId)&&!this.documentClickListener){let e=mt()?"touchstart":"click",i=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(i,e,r=>{this.dismissable&&(!this.container?.contains(r.target)&&this.target!==r.target&&!this.target.contains(r.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck())})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,i){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,i)&&(this.destroyCallback=()=>{this.show(null,i||e.currentTarget||e.target)}),this.hide()):this.show(e,i))}show(e,i){i&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=i||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let i=e.target;this.selfClick=e.offsetX<i.clientWidth&&e.offsetY<i.clientHeight}hasTargetChanged(e,i){return this.target!=null&&this.target!==(i||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):ct(this.appendTo,this.container))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&we.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),dt(this.container,this.target,!1);let e=Qe(this.container),i=Qe(this.target),r=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),d=0;e.left<i.left&&(d=i.left-e.left-parseFloat(r)*2),this.container?.style.setProperty(vt("popover.arrow.left").name,`${d}px`),e.top<i.top&&(this.container.setAttribute("data-p-popover-flipped","true"),lt(this.container,"p-popover-flipped"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&we.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=pt(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!ut()&&this.hide()}bindDocumentResizeListener(){if(ue(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){ue(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new Pt(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&we.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(r){return(e||(e=W(t)))(r||t)}})();static \u0275cmp=k({type:t,selectors:[["p-popover"]],contentQueries:function(i,r,d){if(i&1&&(M(d,mi,4),M(d,D,4)),i&2){let p;E(p=I())&&(r.contentTemplate=p.first),E(p=I())&&(r.templates=p)}},hostBindings:function(i,r){i&1&&f("keydown.escape",function(p){return r.onEscapeKeydown(p)},!1,Xe)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",le],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",le],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",nt],focusOnShow:[2,"focusOnShow","focusOnShow",le],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[O([zt]),et,re],ngContentSelectors:ui,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-popover-content",3,"click","mousedown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,r){i&1&&(se(),_(0,bi,4,18,"div",0)),i&2&&c("ngIf",r.render)},dependencies:[V,de,j,me,pe,$],encapsulation:2,data:{animation:[st("animation",[fe("void",_e({transform:"scaleY(0.8)",opacity:0})),fe("close",_e({opacity:0})),fe("open",_e({transform:"translateY(0)",opacity:1})),Re("void => open",We("{{showTransitionParams}}")),Re("open => close",We("{{hideTransitionParams}}"))])]},changeDetection:0})}return t})(),Ht=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=oe({type:t});static \u0275inj=ie({imports:[Ue,$,$]})}return t})();var N=class t{constructor(o){this.http=o}apiUrl="https://bluelockb.onrender.com/api/partidos";partidos=R([]);cargarPartidos(){this.http.get(this.apiUrl).subscribe(o=>{this.partidos.set(o)})}buscarPartidoByID(o){return this.http.get(`${this.apiUrl}/${o}`)}agregarPartido(o){return this.http.post(`${this.apiUrl}/generar`,{ids:o})}actualizarAlineacionPartido(o,e){return this.http.put(`${this.apiUrl}/actualizar-alineacion/${o}`,e)}eliminarPartido(o){return this.http.delete(`${this.apiUrl}/eliminarPartido/${o}`)}static \u0275fac=function(e){return new(e||t)(Ye(ge))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var wi=()=>({border:"4px solid #3b82f6","background-color":"#ffffff"}),Pi=()=>({border:"4px solid #1f2937","background-color":"#000000"});function Ti(t,o){if(t&1){let e=y();n(0,"p-avatar",13)(1,"img",14),f("error",function(){u(e);let r=m().$implicit;return g(r.imagen="assets/pngegg.png")}),a()()}if(t&2){let e=m().$implicit;K(X(3,wi)),s(),c("src",e.imagen,Le)}}function Mi(t,o){if(t&1&&x(0,"p-badge",15),t&2){let e=m().$implicit;c("value",e.jugador.media)}}function Ei(t,o){if(t&1&&(n(0,"span",16),l(1),a()),t&2){let e=m().$implicit;s(),F(" ",e.jugador.apodo," ")}}function Ii(t,o){if(t&1&&(Q(0),n(1,"div",9),_(2,Ti,2,4,"p-avatar",10)(3,Mi,1,1,"p-badge",11)(4,Ei,2,1,"span",12),a(),G()),t&2){let e=o.$implicit;s(),Je("grid-column",e.col)("grid-row",e.row),s(),c("ngIf",e),s(),c("ngIf",e.jugador),s(),c("ngIf",e.jugador)}}function ki(t,o){if(t&1){let e=y();n(0,"p-avatar",13)(1,"img",14),f("error",function(){u(e);let r=m().$implicit;return g(r.imagen="assets/pngegg.png")}),a()()}if(t&2){let e=m().$implicit;K(X(3,Pi)),s(),c("src",e.imagen,Le)}}function ji(t,o){if(t&1&&x(0,"p-badge",15),t&2){let e=m().$implicit;c("value",e.jugador.media)}}function Vi(t,o){if(t&1&&(n(0,"span",16),l(1),a()),t&2){let e=m().$implicit;s(),F(" ",e.jugador.apodo," ")}}function Ni(t,o){if(t&1&&(Q(0),n(1,"div",9),_(2,ki,2,4,"p-avatar",10)(3,ji,1,1,"p-badge",11)(4,Vi,2,1,"span",12),a(),G()),t&2){let e=o.$implicit;s(),Je("grid-column",e.col)("grid-row",e.row),s(),c("ngIf",e),s(),c("ngIf",e.jugador),s(),c("ngIf",e.jugador)}}function Fi(t,o){if(t&1&&(n(0,"li"),l(1),a()),t&2){let e=o.$implicit;s(),L(" ",e.jugador.nombre," - ",e.posicionUsada," (",e.media,") ")}}function Oi(t,o){if(t&1&&(n(0,"li"),l(1),a()),t&2){let e=o.$implicit;s(),L(" ",e.jugador.nombre," - ",e.posicionUsada," (",e.media,") ")}}function Bi(t,o){if(t&1&&(n(0,"li"),l(1),a()),t&2){let e=o.$implicit;s(),L(" ",e.jugador.nombre," (",e.equipo,") - Media: ",e.media," ")}}function qi(t,o){if(t&1&&(n(0,"li"),l(1),a()),t&2){let e=o.$implicit;s(),ze(" ",e.jugador.nombre," (",e.equipo,") - Goles: ",e.goles," - Asistencias: ",e.asistencias," - Atajadas: ",e.atajadas," ")}}function Di(t,o){if(t&1&&(n(0,"div")(1,"h2"),l(2,"Detalles del Partido"),a(),n(3,"h3"),l(4,"Equipo Blanco"),a(),n(5,"ul"),_(6,Fi,2,3,"li",7),a(),n(7,"h3"),l(8,"Equipo Negro"),a(),n(9,"ul"),_(10,Oi,2,3,"li",7),a(),n(11,"h3"),l(12,"Suplentes"),a(),n(13,"ul"),_(14,Bi,2,3,"li",7),a(),n(15,"h3"),l(16,"Highlights"),a(),n(17,"ul"),_(18,qi,2,5,"li",7),a()()),t&2){let e=m(2);s(6),c("ngForOf",e.partido.equipoBlanco.jugadores),s(4),c("ngForOf",e.partido.equipoNegro.jugadores),s(4),c("ngForOf",e.partido.suplentes),s(4),c("ngForOf",e.partido.highlights)}}function $i(t,o){if(t&1&&(n(0,"div",2)(1,"p-card",3)(2,"div",4)(3,"h3",5),l(4,"Equipo Blanco"),a(),n(5,"h2",5),l(6),a(),n(7,"div",6),_(8,Ii,5,7,"ng-container",7),a()()(),n(9,"p-card",3)(10,"div",4)(11,"h3",8),l(12,"Equipo Negro"),a(),n(13,"h2",8),l(14),a(),n(15,"div",6),_(16,Ni,5,7,"ng-container",7),a()()(),_(17,Di,19,4,"div",1),a()),t&2){let e=m();s(6),F("Media Total: ",e.partido.equipoBlanco.mediaTotal,""),s(2),c("ngForOf",e.partido.equipoBlanco.jugadores),s(6),F("Media Total: ",e.partido.equipoNegro.mediaTotal,""),s(2),c("ngForOf",e.partido.equipoNegro.jugadores),s(),c("ngIf",e.partido)}}function Li(t,o){if(t&1&&(n(0,"li"),l(1),a()),t&2){let e=o.$implicit;s(),L(" ",e.jugador.nombre," - ",e.posicionUsada," (",e.media,") ")}}function Ji(t,o){if(t&1&&(n(0,"li"),l(1),a()),t&2){let e=o.$implicit;s(),L(" ",e.jugador.nombre," - ",e.posicionUsada," (",e.media,") ")}}function Ai(t,o){if(t&1&&(n(0,"li"),l(1),a()),t&2){let e=o.$implicit;s(),L(" ",e.jugador.nombre," (",e.equipo,") - Media: ",e.media," ")}}function zi(t,o){if(t&1&&(n(0,"li"),l(1),a()),t&2){let e=o.$implicit;s(),ze(" ",e.jugador.nombre," (",e.equipo,") - Goles: ",e.goles," - Asistencias: ",e.asistencias," - Atajadas: ",e.atajadas," ")}}function Hi(t,o){if(t&1&&(n(0,"div")(1,"h2"),l(2,"Alineacion"),a(),n(3,"h3"),l(4,"Equipo Blanco"),a(),n(5,"ul"),_(6,Li,2,3,"li",7),a(),n(7,"h3"),l(8,"Equipo Negro"),a(),n(9,"ul"),_(10,Ji,2,3,"li",7),a(),n(11,"h3"),l(12,"Suplentes"),a(),n(13,"ul"),_(14,Ai,2,3,"li",7),a(),n(15,"h3"),l(16,"Highlights"),a(),n(17,"ul"),_(18,zi,2,5,"li",7),a()()),t&2){let e=m();s(6),c("ngForOf",e.partido.equipoBlanco.jugadores),s(4),c("ngForOf",e.partido.equipoNegro.jugadores),s(4),c("ngForOf",e.partido.suplentes),s(4),c("ngForOf",e.partido.highlights)}}var Y=class t{constructor(o){this.partidoService=o}partidoSeleccionado;idPartido;partido;ngOnInit(){this.partidoService.buscarPartidoByID(this.idPartido).subscribe(o=>{this.partido=o;let e=[{posicion:"POR",row:4,col:3},{posicion:"DFC",row:3,col:2},{posicion:"DFC",row:3,col:4},{posicion:"MC",row:2,col:2},{posicion:"MC",row:2,col:4},{posicion:"DC",row:1,col:3}],i=this.asignarPosiciones(this.partido.equipoBlanco.jugadores,e),r=this.asignarPosiciones(this.partido.equipoNegro.jugadores,e);this.partido.equipoBlanco.jugadores=i,this.partido.equipoNegro.jugadores=r},o=>{console.error("Error obteniendo partido:",o)})}calcularMedia(o){let e=o.reduce((i,r)=>i+r.media,0);return Math.round(e/o.length)}asignarPosiciones=(o,e)=>{let i=[...e];return(Array.isArray(o)?o:[]).map(p=>{let v=i.findIndex(b=>b.posicion===p.posicionUsada);if(v!==-1){let[b]=i.splice(v,1);return A(J({},p),{row:b.row,col:b.col,imagen:`assets/${p.jugador.id}.png`})}else return A(J({},p),{row:null,col:null,imagen:null})})};static \u0275fac=function(e){return new(e||t)(T(N))};static \u0275cmp=k({type:t,selectors:[["app-formacion"]],inputs:{idPartido:"idPartido"},decls:2,vars:2,consts:[["class","grid grid-cols-1 md:grid-cols-2 gap-4 p-4",4,"ngIf"],[4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"w-full","md:w-auto"],[1,"flex","flex-col","items-center"],[1,"text-xl","font-bold","text-blue-500"],[1,"grid","grid-rows-4","grid-cols-5","gap-4","mt-4","w-full","cancha",2,"background-image","url(assets/field.png)"],[4,"ngFor","ngForOf"],[1,"text-xl","font-bold","text-gray-700"],[1,"relative","flex","flex-col","items-center"],["shape","circle","size","large",3,"style",4,"ngIf"],["class","absolute top-0 right-0",3,"value",4,"ngIf"],["class","text-sm font-semibold mt-2",4,"ngIf"],["shape","circle","size","large"],[3,"error","src"],[1,"absolute","top-0","right-0",3,"value"],[1,"text-sm","font-semibold","mt-2"]],template:function(e,i){e&1&&_(0,$i,18,5,"div",0)(1,Hi,19,4,"div",1),e&2&&(c("ngIf",i.partido),s(),c("ngIf",i.partido))},dependencies:[V,ce,j,Oe,te,wt,St,Mt,Tt],styles:[".cancha[_ngcontent-%COMP%]{background-size:130%;background-position:center;background-repeat:no-repeat;height:100%;width:100%}"]})};var Zi=()=>({width:"450px"});function Yi(t,o){t&1&&(n(0,"p"),l(1,"No hay Partidos registrados"),a())}function Ki(t,o){if(t&1&&(n(0,"span",25),l(1),it(2,"date"),a()),t&2){let e=m().$implicit;s(),h(ot(2,1,e.fecha,"EEEE d 'de' MMMM y"))}}function Xi(t,o){if(t&1){let e=y();n(0,"div",26)(1,"span",27),l(2),a(),n(3,"span",28),l(4,"Equipo Blanco"),a(),x(5,"span",29),n(6,"span",9),l(7),a(),n(8,"span",9),l(9," - "),a(),n(10,"span",9),l(11),a(),x(12,"span",30),n(13,"span",28),l(14,"Equipo Negro"),a(),n(15,"p-button",31),f("click",function(){u(e);let r=m().$implicit,d=m();return g(d.editarPartido(r))}),a(),n(16,"p-button",32),f("click",function(){u(e);let r=m().$implicit,d=m();return g(d.eliminarPartido(r.id))}),a(),n(17,"p-button",33),f("click",function(){u(e);let r=m().$implicit,d=m();return g(d.abrirModal(r.id))}),a()()}if(t&2){let e=m(),i=e.$implicit,r=e.index;s(2),h(r+1),s(5),h(i.marcador.equipoBlanco),s(4),h(i.marcador.equipoNegro),s(4),c("rounded",!0)("outlined",!0),s(),c("rounded",!0)("outlined",!0),s(),c("rounded",!0)("outlined",!0)}}function eo(t,o){t&1&&(n(0,"p-card"),_(1,Ki,3,4,"ng-template",23)(2,Xi,18,9,"ng-template",24),a())}function to(t,o){if(t&1){let e=y();n(0,"p",34),f("click",function(){let r=u(e).$implicit,d=m();return g(d.agregarGoleador(r,"Blanco"))}),l(1),a()}if(t&2){let e=o.$implicit;s(),F(" ",e.apodo," ")}}function io(t,o){if(t&1){let e=y();n(0,"p",34),f("click",function(){let r=u(e).$implicit,d=m();return g(d.agregarGoleador(r,"Negro"))}),l(1),a()}if(t&2){let e=o.$implicit;s(),F(" ",e.apodo," ")}}function oo(t,o){t&1&&(n(0,"p"),l(1,"No hay highlights registradas"),a())}function ro(t,o){if(t&1){let e=y();n(0,"p-card")(1,"div",35)(2,"label",36),l(3),a(),n(4,"label",37),l(5,"Goles"),a(),n(6,"p-inputNumber",38),P("ngModelChange",function(r){let d=u(e).$implicit;return w(d.goles,r)||(d.goles=r),g(r)}),f("ngModelChange",function(){u(e);let r=m();return g(r.actualizarMarcador())}),a(),n(7,"label",37),l(8,"Asistencias"),a(),n(9,"p-inputNumber",38),P("ngModelChange",function(r){let d=u(e).$implicit;return w(d.asistencias,r)||(d.asistencias=r),g(r)}),f("ngModelChange",function(){u(e);let r=m();return g(r.actualizarMarcador())}),a(),n(10,"label",37),l(11,"Atajadas"),a(),n(12,"p-inputNumber",38),P("ngModelChange",function(r){let d=u(e).$implicit;return w(d.atajadas,r)||(d.atajadas=r),g(r)}),f("ngModelChange",function(){u(e);let r=m();return g(r.actualizarMarcador())}),a(),n(13,"p-button",39),f("click",function(){let r=u(e).$implicit,d=m();return g(d.eliminarHighlight(r.jugador.id))}),a()()()}if(t&2){let e=o.$implicit,i=o.index;s(2),C("id","nombre",i,""),s(),h(e.jugador.nombre),s(),C("for","goles",i,""),s(2),C("id","goles",i,""),S("ngModel",e.goles),c("min",0)("max",100)("showButtons",!0),s(),C("for","asistencias",i,""),s(2),C("id","asistencias",i,""),S("ngModel",e.asistencias),c("min",0)("max",100)("showButtons",!0),s(),C("for","atajadas",i,""),s(2),C("id","atajadas",i,""),S("ngModel",e.atajadas),c("min",0)("max",100)("showButtons",!0)}}function no(t,o){t&1&&(n(0,"p"),l(1,"No hay highlights registradas"),a())}function ao(t,o){if(t&1){let e=y();n(0,"p-card")(1,"div",35)(2,"label",36),l(3),a(),n(4,"label",37),l(5,"Goles"),a(),n(6,"p-inputNumber",38),P("ngModelChange",function(r){let d=u(e).$implicit;return w(d.goles,r)||(d.goles=r),g(r)}),f("ngModelChange",function(){u(e);let r=m();return g(r.actualizarMarcador())}),a(),n(7,"label",37),l(8,"Asistencias"),a(),n(9,"p-inputNumber",38),P("ngModelChange",function(r){let d=u(e).$implicit;return w(d.asistencias,r)||(d.asistencias=r),g(r)}),f("ngModelChange",function(){u(e);let r=m();return g(r.actualizarMarcador())}),a(),n(10,"label",37),l(11,"Atajadas"),a(),n(12,"p-inputNumber",38),P("ngModelChange",function(r){let d=u(e).$implicit;return w(d.atajadas,r)||(d.atajadas=r),g(r)}),f("ngModelChange",function(){u(e);let r=m();return g(r.actualizarMarcador())}),a(),n(13,"p-button",39),f("click",function(){let r=u(e).$implicit,d=m();return g(d.eliminarHighlight(r.jugador.id))}),a()()()}if(t&2){let e=o.$implicit,i=o.index;s(2),C("id","nombre",i,""),s(),h(e.jugador.nombre),s(),C("for","goles",i,""),s(2),C("id","goles",i,""),S("ngModel",e.goles),c("min",0)("max",100)("showButtons",!0),s(),C("for","asistencias",i,""),s(2),C("id","asistencias",i,""),S("ngModel",e.asistencias),c("min",0)("max",100)("showButtons",!0),s(),C("for","atajadas",i,""),s(2),C("id","atajadas",i,""),S("ngModel",e.atajadas),c("min",0)("max",100)("showButtons",!0)}}function so(t,o){if(t&1&&x(0,"app-formacion",40),t&2){let e=m();c("idPartido",e.idPartido)}}var Be=class t{constructor(o,e,i,r){this.http=o;this.messageService=e;this.partidoService=i;this.confirmationService=r}partidos=[];modalVisible=!1;selectedMatch=this.getEmptyMatch();showPopoverBlanco=!1;showPopoverNegro=!1;mostrarModal=!1;mostrarAlineacion=!1;idPartido;abrirModal(o){this.idPartido=o,this.mostrarModal=!0}editarAlineacion(o){this.idPartido=o,this.mostrarAlineacion=!0}ngOnInit(){this.cargarPartidos()}cargarPartidos(){this.http.get("https://bluelockb.onrender.com/api/partidos/listar-partidos").subscribe(o=>{this.partidos=o.map(e=>A(J({},e),{id:e._id}))})}editarPartido(o){this.selectedMatch=A(J({},o),{highlights:[...o.highlights]}),this.modalVisible=!0}getGoleadoresBlanco(){return this.selectedMatch?.highlights.filter(o=>o.equipo==="Blanco")||[]}getGoleadoresNegro(){return this.selectedMatch?.highlights.filter(o=>o.equipo==="Negro")||[]}actualizarMarcador(){let o=this.selectedMatch.highlights.filter(i=>i.equipo==="Blanco").reduce((i,r)=>i+r.goles,0),e=this.selectedMatch.highlights.filter(i=>i.equipo==="Negro").reduce((i,r)=>i+r.goles,0);this.selectedMatch.marcador={equipoBlanco:o,equipoNegro:e}}eliminarHighlight(o){this.selectedMatch.highlights=this.selectedMatch.highlights.filter(e=>e.jugador.id!==o),this.actualizarMarcador()}getJugadoresDisponibles(o){let e=o==="Blanco"?this.selectedMatch.equipoBlanco:this.selectedMatch.equipoNegro,i=this.selectedMatch.suplentes.filter(v=>v.equipo===o).map(v=>v.jugador),d=[...e.jugadores.map(v=>v.jugador),...i],p=this.selectedMatch.highlights.filter(v=>v.equipo===o).map(v=>v.jugador.id);return d.filter(v=>!p.includes(v.id))}agregarGoleador(o,e){this.selectedMatch.highlights.push({id:o.id,jugador:{id:o.id,nombre:o.apodo},goles:0,asistencias:0,atajadas:0,equipo:e}),e==="Blanco"?this.showPopoverBlanco=!1:this.showPopoverNegro=!1,this.actualizarMarcador()}eliminarPartido(o){this.confirmationService.confirm({message:"\xBFEst\xE1s seguro de que deseas eliminar el Partido?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.partidoService.eliminarPartido(o).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Partido Eliminado",detail:"El partido se ha eliminado correctamente."}),this.partidos=this.partidos.filter(e=>e.id!==o)},error:e=>{let i=e?.error?.message||e?.message||"Hubo un problema al generar la alineaci\xF3n.";this.messageService.add({severity:"error",summary:"Error",detail:i})}})}})}verAlineacion(o){alert(`Alineacion de: ${o}`)}opcionesEstado=[{label:"Abierto",value:"Abierto"},{label:"Cerrado",value:"Cerrado"}];saveMatch(){if(this.partidos.findIndex(e=>e.id===this.selectedMatch.id)!==-1){let e=this.selectedMatch.highlights.filter(b=>b.equipo==="Blanco").reduce((b,De)=>b+De.goles,0),i=this.selectedMatch.highlights.filter(b=>b.equipo==="Negro").reduce((b,De)=>b+De.goles,0),r={equipoBlanco:e,equipoNegro:i},d=this.selectedMatch.highlights.map(b=>({jugador:b.jugador.id,equipo:b.equipo,goles:b.goles,asistencias:b.asistencias,atajadas:b.atajadas})),p=this.selectedMatch.estado,v={marcador:r,highlights:d,estado:p};this.http.put(`https://bluelockb.onrender.com/api/partidos/actualizar-partido/${this.selectedMatch.id}`,v).subscribe(b=>{this.modalVisible=!1,this.cargarPartidos(),this.messageService.add({severity:"success",summary:"Exitoso",detail:"El partido fue guardado correctamente"})},b=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error al guardar el partido"})})}}getEmptyMatch(){return{id:"",fecha:new Date().toISOString(),equipoBlanco:{jugadores:[],mediaTotal:0},equipoNegro:{jugadores:[],mediaTotal:0},marcador:{equipoBlanco:0,equipoNegro:0},suplentes:[],highlights:[],estado:"Abierto"}}static \u0275fac=function(e){return new(e||t)(T(ge),T(q),T(N),T(B))};static \u0275cmp=k({type:t,selectors:[["app-partidos"]],features:[O([q,B])],decls:43,vars:20,consts:[["popoverBlanco",""],["popoverNegro",""],[1,"card","w-full","md:w-auto"],[1,"container"],[4,"ngIf"],[4,"ngFor","ngForOf"],["header","Editar Partido",3,"visibleChange","visible","modal","closable"],[1,"p-fluid","parent"],[1,"div1"],[1,"marcador"],["fluid","","required","",3,"ngModelChange","options","ngModel"],[1,"div2"],["label","A\xF1adir Anotador","icon","pi pi-plus",3,"click"],[1,"popover-content"],[3,"click",4,"ngFor","ngForOf"],[1,"div3"],[1,"div4"],[1,"div5"],[1,"div6"],["label","Guardar",1,"p-button-primary",3,"click"],["label","Cancelar",1,"p-button-secondary",3,"click"],["modal","","header","Formaci\xF3n del Partido",3,"visibleChange","visible"],[3,"idPartido",4,"ngIf"],["pTemplate","header"],["pTemplate","content"],[1,"fecha"],[1,"contenido"],[1,"numero"],[1,"equipo"],[1,"circulo","blanco"],[1,"circulo","negro"],["icon","pi pi-pencil","severity","success",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],["icon","pi pi-eye","severity","info",3,"click","rounded","outlined"],[3,"click"],[1,"p-field"],[1,"block","font-bold","mb-2",3,"id"],[1,"block","font-bold","mb-2",3,"for"],[3,"ngModelChange","id","ngModel","min","max","showButtons"],["icon","pi pi-times","styleClass","p-button-danger",3,"click"],[3,"idPartido"]],template:function(e,i){if(e&1){let r=y();n(0,"div",2)(1,"div",3),_(2,Yi,2,0,"p",4)(3,eo,3,0,"p-card",5),a()(),n(4,"p-dialog",6),P("visibleChange",function(p){return u(r),w(i.modalVisible,p)||(i.modalVisible=p),g(p)}),n(5,"div",7)(6,"div",8),l(7," Equipo Blanco "),n(8,"span",9),l(9),a(),l(10," - Equipo Negro "),n(11,"span",9),l(12),a(),n(13,"p-select",10),P("ngModelChange",function(p){return u(r),w(i.selectedMatch.estado,p)||(i.selectedMatch.estado=p),g(p)}),a()(),n(14,"div",11)(15,"span"),l(16,"Goleadores Equipo Blanco"),a(),n(17,"p-button",12),f("click",function(p){u(r);let v=Ae(19);return g(v.toggle(p))}),a(),n(18,"p-popover",null,0)(20,"div",13),_(21,to,2,1,"p",14),a()()(),n(22,"div",15)(23,"span"),l(24,"Goleadores Equipo Negro"),a(),n(25,"p-button",12),f("click",function(p){u(r);let v=Ae(27);return g(v.toggle(p))}),a(),n(26,"p-popover",null,1)(28,"div",13),_(29,io,2,1,"p",14),a()()(),n(30,"div",16),_(31,oo,2,0,"p",4)(32,ro,14,27,"p-card",5),a(),n(33,"div",17),_(34,no,2,0,"p",4)(35,ao,14,27,"p-card",5),a(),n(36,"div",18)(37,"p-button",19),f("click",function(){return u(r),g(i.saveMatch())}),a(),n(38,"p-button",20),f("click",function(){return u(r),g(i.modalVisible=!1)}),a()()()(),n(39,"p-dialog",21),P("visibleChange",function(p){return u(r),w(i.mostrarModal,p)||(i.mostrarModal=p),g(p)}),_(40,so,1,1,"app-formacion",22),a(),x(41,"p-toast")(42,"p-confirmdialog")}e&2&&(s(2),c("ngIf",i.partidos.length===0),s(),c("ngForOf",i.partidos),s(),S("visible",i.modalVisible),c("modal",!0)("closable",!0),s(5),h(i.selectedMatch.marcador.equipoBlanco),s(3),h(i.selectedMatch.marcador.equipoNegro),s(),c("options",i.opcionesEstado),S("ngModel",i.selectedMatch.estado),s(8),c("ngForOf",i.getJugadoresDisponibles("Blanco")),s(8),c("ngForOf",i.getJugadoresDisponibles("Negro")),s(2),c("ngIf",!i.getGoleadoresBlanco().length),s(),c("ngForOf",i.getGoleadoresBlanco()),s(2),c("ngIf",!i.getGoleadoresNegro().length),s(),c("ngForOf",i.getGoleadoresNegro()),s(4),S("visible",i.mostrarModal),s(),c("ngIf",i.mostrarModal),s(2),K(X(19,Zi)))},dependencies:[V,ce,j,at,Me,D,ve,bt,xt,yt,Ce,xe,Se,Pe,Et,je,ke,Oe,te,Ht,Ue,Ie,Ee,Ne,Ve,Y,Te,jt],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;padding:20px}.partido-card[_ngcontent-%COMP%]{background:flex;color:flex;padding:10px;border-radius:10px;display:flex;flex-direction:column;border:1px solid #2e2e42}.fecha[_ngcontent-%COMP%]{font-size:.8rem;color:#b0b0b0;margin-bottom:5px}.contenido[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.numero[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.equipo[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.circulo[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;outline:auto}.blanco[_ngcontent-%COMP%]{background:#fff}.negro[_ngcontent-%COMP%]{background:#000}.marcador[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.edit[_ngcontent-%COMP%]{margin-left:auto;color:#007bff}.delete[_ngcontent-%COMP%]{color:red}.parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(6,1fr);gap:8px}.div1[_ngcontent-%COMP%]{grid-column:span 4 / span 4}.div2[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-row-start:2}.div3[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-column-start:3;grid-row-start:2}.div4[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-row:span 3 / span 3;grid-row-start:3}.div5[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-row:span 3 / span 3;grid-column-start:3;grid-row-start:3}.div6[_ngcontent-%COMP%]{grid-column:span 4 / span 4;grid-row-start:6}"]})};function lo(t,o){if(t&1){let e=y();n(0,"p-button",16),f("click",function(r){u(e);let d=m();return g(d.confirm1(r))}),a()}t&2&&c("outlined",!0)}function co(t,o){t&1&&(n(0,"tr"),x(1,"th"),n(2,"th"),l(3,"Jugador"),a(),n(4,"th"),l(5,"Posici\xF3n Principal"),a(),n(6,"th"),l(7,"Posici\xF3n Secundaria"),a(),n(8,"th"),l(9,"Lado"),a(),n(10,"th"),l(11,"Media"),a()())}function po(t,o){if(t&1&&(n(0,"tr",17)(1,"td"),x(2,"p-tableCheckbox",18),a(),n(3,"td"),l(4),a(),n(5,"td"),l(6),a(),n(7,"td"),l(8),a(),n(9,"td"),l(10),a(),n(11,"td"),l(12),a()()),t&2){let e=o.$implicit;c("pSelectableRow",e),s(2),c("value",e),s(2),h(e.apodo),s(2),h(e.pos_principal),s(2),h(e.pos_secundaria),s(2),h(e.pierna_habil),s(2),h(e.media)}}function mo(t,o){t&1&&(n(0,"tr"),x(1,"th"),n(2,"th"),l(3,"Jugador"),a(),n(4,"th"),l(5,"Posici\xF3n Principal"),a(),n(6,"th"),l(7,"Posici\xF3n Secundaria"),a(),n(8,"th"),l(9,"Lado"),a(),n(10,"th"),l(11,"Media"),a()())}function uo(t,o){if(t&1){let e=y();n(0,"tr")(1,"td")(2,"p-button",19),f("click",function(){let r=u(e).$implicit,d=m();return g(d.removerJugador(r))}),a()(),n(3,"td"),l(4),a(),n(5,"td"),l(6),a(),n(7,"td"),l(8),a(),n(9,"td"),l(10),a(),n(11,"td"),l(12),a()()}if(t&2){let e=o.$implicit;s(4),h(e.apodo),s(2),h(e.pos_principal),s(2),h(e.pos_secundaria),s(2),h(e.pierna_habil),s(2),h(e.media)}}function go(t,o){if(t&1&&x(0,"app-formacion",20),t&2){let e=m();c("idPartido",e.idPartido)}}var qe=class t{constructor(o,e,i,r){this.jugadorService=o;this.confirmationService=e;this.partidoService=i;this.messageService=r}inscritos=[];jugadores=R([]);presentados=[];selectedJugadores=[];jsonVisible=!1;jsonOutput="";mostrarModal=!1;idPartido;partidoCreado;ngOnInit(){this.jugadorService.cargarJugadores(),this.jugadores=this.jugadorService.jugadores,this.actualizarSeleccionados()}actualizarSeleccionados(){this.selectedJugadores=this.inscritos.filter(o=>this.presentados.some(e=>e.nombre===o.nombre))}moverJugadores(){this.selectedJugadores.length&&(this.selectedJugadores.forEach(o=>{this.presentados.some(e=>e.nombre===o.nombre)||this.presentados.push(o)}),this.inscritos=this.inscritos.filter(o=>!this.selectedJugadores.includes(o)),this.selectedJugadores=[...this.selectedJugadores])}removerJugador(o){this.inscritos.some(e=>e.nombre===o.nombre)||this.inscritos.push(o),this.presentados=this.presentados.filter(e=>e!==o),this.selectedJugadores=this.selectedJugadores.filter(e=>e!==o)}mostrarJSON(){this.jsonVisible=!this.jsonVisible}abrirModal(o){this.idPartido=o,this.mostrarModal=!0}confirm1(o){let e=this.presentados.map(i=>i.id).filter(i=>i!==void 0);this.confirmationService.confirm({message:`\xBFEst\xE1s seguro de que deseas generar la alineaci\xF3n con ${this.presentados.length} jugadores?`,accept:()=>{this.partidoService.agregarPartido(e).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"Partido Creado",detail:"La alineaci\xF3n se ha generado correctamente."}),this.partidoCreado=i,i&&this.partidoCreado.id&&this.abrirModal(this.partidoCreado.id)},error:i=>{let r=i?.error?.error||i?.message||"Hubo un problema al generar la alineaci\xF3n.";this.messageService.add({severity:"error",summary:"Error",detail:r})}})}})}static \u0275fac=function(e){return new(e||t)(T(ye),T(B),T(N),T(q))};static \u0275cmp=k({type:t,selectors:[["app-nuevo-partido"]],features:[O([q,ye,B,N])],decls:27,vars:6,consts:[["start",""],["styleClass","mb-6"],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","md:col-span-5"],[1,"card","!mb-8"],[1,"col-9"],[1,"text-center","bg-primary","text-white","p-2","border-round"],["dataKey","nombre",1,"w-full",3,"selectionChange","value","selection"],["pTemplate","header"],["pTemplate","body"],[1,"col-span-2","md:col-span-2","text-center","mt-4"],["icon","pi pi-arrow-right-arrow-left",3,"click","disabled"],[1,"col-5"],[1,"w-full",3,"value"],["modal","","header","Formaci\xF3n del Partido",3,"visibleChange","visible"],[3,"idPartido",4,"ngIf"],["label","Generar Alineacion","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"click","outlined"],[3,"pSelectableRow"],[3,"value"],["icon","pi pi-times",1,"p-button-rounded","p-button-danger","p-button-text",3,"click"],[3,"idPartido"]],template:function(e,i){if(e&1){let r=y();n(0,"p-toolbar",1),_(1,lo,1,1,"ng-template",null,0,rt),a(),n(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3",6),l(8,"Jugadores Inscritos"),a(),n(9,"p-table",7),P("selectionChange",function(p){return u(r),w(i.selectedJugadores,p)||(i.selectedJugadores=p),g(p)}),_(10,co,12,0,"ng-template",8)(11,po,13,7,"ng-template",9),a()()()(),n(12,"div",10)(13,"p-button",11),f("click",function(){return u(r),g(i.moverJugadores())}),a()(),n(14,"div",3)(15,"div",4)(16,"div",12)(17,"h3",6),l(18,"Jugadores Presentados"),a(),n(19,"p-table",13),_(20,mo,12,0,"ng-template",8)(21,uo,13,5,"ng-template",9),a()()()(),x(22,"p-toast")(23,"p-confirmdialog"),a(),n(24,"p-dialog",14),P("visibleChange",function(p){return u(r),w(i.mostrarModal,p)||(i.mostrarModal=p),g(p)}),_(25,go,1,1,"app-formacion",15),a(),x(26,"p-toast")}e&2&&(s(9),c("value",i.jugadores()),S("selection",i.selectedJugadores),s(4),c("disabled",!i.selectedJugadores),s(6),c("value",i.presentados),s(5),S("visible",i.mostrarModal),s(),c("ngIf",i.mostrarModal))},dependencies:[V,j,Me,Nt,D,Ft,Ot,ve,Ce,xe,Ct,Ie,Ee,qt,Bt,Dt,Se,$t,Te,Vt,Pe,je,ke,Lt,kt,It,Ne,Ve,Y],encapsulation:2})};var an=[{path:"partidos",component:Be,canActivate:[Ge]},{path:"nuevoPartido",component:qe,canActivate:[Ge]}];export{an as default};

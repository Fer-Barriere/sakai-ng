import{a as Ct,b as St}from"./chunk-H4HHIR4Q.js";import{A as Ne,a as Mt,b as Pe,d as Et,f as It,g as kt,h as Te,i as Vt,j as jt,m as Nt,n as Ft,p as Me,q as Ee,r as Ie,s as Ot,t as Bt,u as qt,v as Dt,w as ke,x as Ve,y as Lt,z as je}from"./chunk-46APX7FK.js";import{a as ye}from"./chunk-YN6LNHLD.js";import{f as Se,i as we}from"./chunk-TRG5VYBG.js";import{$ as q,Aa as wt,B as Re,Ca as Pt,Da as Tt,Ga as xe,H as pt,Ha as Ce,I as mt,Q as ut,X as B,a as ge,aa as gt,ba as _t,ca as ft,da as D,ea as L,f as st,ga as ht,ka as he,m as lt,q as dt,qa as vt,ra as bt,sa as yt,ta as ve,u as ct,ua as be,wa as xt}from"./chunk-CTNDMIXX.js";import{$a as c,Ab as h,Ac as at,Ba as Ye,Bb as F,Bc as Ae,Da as s,Db as se,Dc as _e,Ea as T,Eb as Xe,Ec as fe,Fb as S,Fc as We,Gb as w,Hb as P,Ib as O,Jb as K,Ka as W,Kb as et,Lb as He,Na as k,Oa as ie,P as z,Q as te,Ra as oe,Sa as Ke,Sb as tt,Ta as _,Tb as it,U as Ze,Ub as ot,V as H,Yb as le,Zb as rt,_a as re,a as $,ab as Je,b as J,ba as u,ca as g,cb as Y,db as ne,fa as A,ib as n,jb as a,ka as Le,kb as x,la as Ue,lb as R,mb as Q,mc as de,nb as G,nc as ce,ob as y,oc as V,pb as f,pc as pe,qb as m,qc as me,rb as ae,rc as nt,sb as Z,sc as j,tb as C,ub as M,uc as ue,wb as E,xb as I,yb as ze,za as $e,zb as d}from"./chunk-X3MJR35J.js";var Wt=["header"],Rt=["title"],Qt=["subtitle"],Gt=["content"],Zt=["footer"],Ut=["*",[["p-header"]],[["p-footer"]]],Yt=["*","p-header","p-footer"];function Kt(t,r){t&1&&G(0)}function Xt(t,r){if(t&1&&(n(0,"div",8),Z(1,1),_(2,Kt,1,0,"ng-container",6),a()),t&2){let e=m();s(2),c("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function ei(t,r){if(t&1&&(R(0),d(1),Q()),t&2){let e=m(2);s(),h(e.header)}}function ti(t,r){t&1&&G(0)}function ii(t,r){if(t&1&&(n(0,"div",9),_(1,ei,2,1,"ng-container",10)(2,ti,1,0,"ng-container",6),a()),t&2){let e=m();s(),c("ngIf",e.header&&!e._titleTemplate&&!e.titleTemplate),s(),c("ngTemplateOutlet",e.titleTemplate||e._titleTemplate)}}function oi(t,r){if(t&1&&(R(0),d(1),Q()),t&2){let e=m(2);s(),h(e.subheader)}}function ri(t,r){t&1&&G(0)}function ni(t,r){if(t&1&&(n(0,"div",11),_(1,oi,2,1,"ng-container",10)(2,ri,1,0,"ng-container",6),a()),t&2){let e=m();s(),c("ngIf",e.subheader&&!e._subtitleTemplate&&!e.subtitleTemplate),s(),c("ngTemplateOutlet",e.subtitleTemplate||e._subtitleTemplate)}}function ai(t,r){t&1&&G(0)}function si(t,r){t&1&&G(0)}function li(t,r){if(t&1&&(n(0,"div",12),Z(1,2),_(2,si,1,0,"ng-container",6),a()),t&2){let e=m();s(2),c("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var di=({dt:t})=>`
.p-card {
    background: ${t("card.background")};
    color: ${t("card.color")};
    box-shadow: ${t("card.shadow")};
    border-radius: ${t("card.border.radius")};
    display: flex;
    flex-direction: column;
}

.p-card-caption {
    display: flex;
    flex-direction: column;
    gap: ${t("card.caption.gap")};
}

.p-card-body {
    padding: ${t("card.body.padding")};
    display: flex;
    flex-direction: column;
    gap: ${t("card.body.gap")};
}

.p-card-title {
    font-size: ${t("card.title.font.size")};
    font-weight: ${t("card.title.font.weight")};
}

.p-card-subtitle {
    color: ${t("card.subtitle.color")};
}
`,ci={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},$t=(()=>{class t extends he{name="card";theme=di;classes=ci;static \u0275fac=(()=>{let e;return function(o){return(e||(e=A(t)))(o||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})();var ee=(()=>{class t extends be{header;subheader;set style(e){ut(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=W(null);_componentStyle=H($t);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"title":this._titleTemplate=e.template;break;case"subtitle":this._subtitleTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=A(t)))(o||t)}})();static \u0275cmp=k({type:t,selectors:[["p-card"]],contentQueries:function(i,o,l){if(i&1&&(M(l,_t,5),M(l,ft,5),M(l,Wt,4),M(l,Rt,4),M(l,Qt,4),M(l,Gt,4),M(l,Zt,4),M(l,D,4)),i&2){let p;E(p=I())&&(o.headerFacet=p.first),E(p=I())&&(o.footerFacet=p.first),E(p=I())&&(o.headerTemplate=p.first),E(p=I())&&(o.titleTemplate=p.first),E(p=I())&&(o.subtitleTemplate=p.first),E(p=I())&&(o.contentTemplate=p.first),E(p=I())&&(o.footerTemplate=p.first),E(p=I())&&(o.templates=p)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[O([$t]),oe],ngContentSelectors:Yt,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[4,"ngIf"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(i,o){i&1&&(ae(Ut),n(0,"div",0),_(1,Xt,3,1,"div",1),n(2,"div",2),_(3,ii,3,2,"div",3)(4,ni,3,2,"div",4),n(5,"div",5),Z(6),_(7,ai,1,0,"ng-container",6),a(),_(8,li,3,1,"div",7),a()()),i&2&&(ne(o.styleClass),c("ngClass","p-card p-component")("ngStyle",o._style()),re("data-pc-name","card"),s(),c("ngIf",o.headerFacet||o.headerTemplate||o._headerTemplate),s(2),c("ngIf",o.header||o.titleTemplate||o._titleTemplate),s(),c("ngIf",o.subheader||o.subtitleTemplate||o._subtitleTemplate),s(3),c("ngTemplateOutlet",o.contentTemplate||o._contentTemplate),s(),c("ngIf",o.footerFacet||o.footerTemplate||o._footerTemplate))},dependencies:[j,de,V,me,pe,L],encapsulation:2,changeDetection:0})}return t})(),Oe=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ie({type:t});static \u0275inj=te({imports:[ee,L,L]})}return t})();var pi=["content"],mi=["*"],ui=(t,r)=>({showTransitionParams:t,hideTransitionParams:r}),gi=(t,r)=>({value:t,params:r}),_i=t=>({closeCallback:t});function fi(t,r){}function hi(t,r){t&1&&_(0,fi,0,0,"ng-template")}function vi(t,r){if(t&1){let e=y();n(0,"div",1),f("click",function(o){u(e);let l=m();return g(l.onOverlayClick(o))})("@animation.start",function(o){u(e);let l=m();return g(l.onAnimationStart(o))})("@animation.done",function(o){u(e);let l=m();return g(l.onAnimationEnd(o))}),n(1,"div",2),f("click",function(o){u(e);let l=m();return g(l.onContentClick(o))})("mousedown",function(o){u(e);let l=m();return g(l.onContentClick(o))}),Z(2),_(3,hi,1,0,null,3),a()()}if(t&2){let e=m();ne(e.styleClass),c("ngClass","p-popover p-component")("ngStyle",e.style)("@animation",He(13,gi,e.overlayVisible?"open":"close",He(10,ui,e.showTransitionOptions,e.hideTransitionOptions))),re("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),s(3),c("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",et(16,_i,e.onCloseClick.bind(e)))}}var bi=({dt:t})=>`
.p-popover {
    margin-top: ${t("popover.gutter")};
    background: ${t("popover.background")};
    color: ${t("popover.color")};
    border: 1px solid ${t("popover.border.color")};
    border-radius: ${t("popover.border.radius")};
    box-shadow: ${t("popover.shadow")};
    position: absolute
}

.p-popover-content {
    padding: ${t("popover.content.padding")};
}

.p-popover-flipped {
    margin-top: calc(${t("popover.gutter")} * -1);
    margin-bottom: ${t("popover.gutter")};
}

.p-popover-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-popover-leave-to {
    opacity: 0;
}

.p-popover-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-popover-leave-active {
    transition: opacity 0.1s linear;
}

.p-popover:after,
.p-popover:before {
    bottom: 100%;
    left: calc(${t("popover.arrow.offset")} + ${t("popover.arrow.left")});
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.p-popover:after {
    border-width: calc(${t("popover.gutter")} - 2px);
    margin-left: calc(-1 * (${t("popover.gutter")} - 2px));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${t("popover.background")};
}

.p-popover:before {
    border-width: ${t("popover.gutter")};
    margin-left: calc(-1 * ${t("popover.gutter")});
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${t("popover.border.color")};
}

.p-popover-flipped:after,
.p-popover-flipped:before {
    bottom: auto;
    top: 100%;
}

.p-popover.p-popover-flipped:after {
    border-bottom-color: transparent;
    border-top-color: ${t("popover.background")};
}

.p-popover.p-popover-flipped:before {
    border-bottom-color: transparent;
    border-top-color: ${t("popover.border.color")};
}

`,yi={root:"p-popover p-component",content:"p-popover-content"},zt=(()=>{class t extends he{name="popover";theme=bi;classes=yi;static \u0275fac=(()=>{let e;return function(o){return(e||(e=A(t)))(o||t)}})();static \u0275prov=z({token:t,factory:t.\u0275fac})}return t})(),Qe=(()=>{class t extends be{ariaLabel;ariaLabelledBy;dismissable=!0;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new Le;onHide=new Le;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;templates;_contentTemplate;destroyCallback;overlayEventListener;overlaySubscription;_componentStyle=H(zt);zone=H(Ue);overlayService=H(gt);ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break}})}bindDocumentClickListener(){if(ue(this.platformId)&&!this.documentClickListener){let e=pt()?"touchstart":"click",i=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(i,e,o=>{this.dismissable&&(!this.container?.contains(o.target)&&this.target!==o.target&&!this.target.contains(o.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck())})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,i){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,i)&&(this.destroyCallback=()=>{this.show(null,i||e.currentTarget||e.target)}),this.hide()):this.show(e,i))}show(e,i){i&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=i||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let i=e.target;this.selfClick=e.offsetX<i.clientWidth&&e.offsetY<i.clientHeight}hasTargetChanged(e,i){return this.target!=null&&this.target!==(i||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):dt(this.appendTo,this.container))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&we.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),lt(this.container,this.target,!1);let e=Re(this.container),i=Re(this.target),o=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),l=0;e.left<i.left&&(l=i.left-e.left-parseFloat(o)*2),this.container?.style.setProperty(ht("popover.arrow.left").name,`${l}px`),e.top<i.top&&(this.container.setAttribute("data-p-popover-flipped","true"),st(this.container,"p-popover-flipped"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&we.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=ct(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!mt()&&this.hide()}bindDocumentResizeListener(){if(ue(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){ue(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new wt(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&we.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=A(t)))(o||t)}})();static \u0275cmp=k({type:t,selectors:[["p-popover"]],contentQueries:function(i,o,l){if(i&1&&(M(l,pi,4),M(l,D,4)),i&2){let p;E(p=I())&&(o.contentTemplate=p.first),E(p=I())&&(o.templates=p)}},hostBindings:function(i,o){i&1&&f("keydown.escape",function(p){return o.onEscapeKeydown(p)},!1,Ye)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",le],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",le],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",rt],focusOnShow:[2,"focusOnShow","focusOnShow",le],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[O([zt]),Ke,oe],ngContentSelectors:mi,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-popover-content",3,"click","mousedown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){i&1&&(ae(),_(0,vi,4,18,"div",0)),i&2&&c("ngIf",o.render)},dependencies:[j,de,V,me,pe,L],encapsulation:2,data:{animation:[at("animation",[fe("void",_e({transform:"scaleY(0.8)",opacity:0})),fe("close",_e({opacity:0})),fe("open",_e({transform:"translateY(0)",opacity:1})),We("void => open",Ae("{{showTransitionParams}}")),We("open => close",Ae("{{hideTransitionParams}}"))])]},changeDetection:0})}return t})(),Ht=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=ie({type:t});static \u0275inj=te({imports:[Qe,L,L]})}return t})();var N=class t{constructor(r){this.http=r}apiUrl="https://bluelockb.onrender.com/api/partidos";partidos=W([]);cargarPartidos(){this.http.get(this.apiUrl).subscribe(r=>{this.partidos.set(r)})}buscarPartidoByID(r){return this.http.get(`${this.apiUrl}/${r}`)}agregarPartido(r){return this.http.post(`${this.apiUrl}/generar`,{ids:r})}eliminarPartido(r){return this.http.delete(`${this.apiUrl}/eliminarPartido/${r}`)}static \u0275fac=function(e){return new(e||t)(Ze(ge))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})};var Si=()=>({border:"4px solid #3b82f6","background-color":"#ffffff"}),wi=()=>({border:"4px solid #1f2937","background-color":"#000000"});function Pi(t,r){if(t&1){let e=y();n(0,"p-avatar",13)(1,"img",14),f("error",function(){u(e);let o=m().$implicit;return g(o.imagen="assets/pngegg.png")}),a()()}if(t&2){let e=m().$implicit;Y(K(3,Si)),s(),c("src",e.imagen,$e)}}function Ti(t,r){if(t&1&&x(0,"p-badge",15),t&2){let e=m().$implicit;c("value",e.jugador.media)}}function Mi(t,r){if(t&1&&(n(0,"span",16),d(1),a()),t&2){let e=m().$implicit;s(),F(" ",e.jugador.apodo," ")}}function Ei(t,r){if(t&1&&(R(0),n(1,"div",9),_(2,Pi,2,4,"p-avatar",10)(3,Ti,1,1,"p-badge",11)(4,Mi,2,1,"span",12),a(),Q()),t&2){let e=r.$implicit;s(),Je("grid-column",e.col)("grid-row",e.row),s(),c("ngIf",e),s(),c("ngIf",e.jugador),s(),c("ngIf",e.jugador)}}function Ii(t,r){if(t&1){let e=y();n(0,"p-avatar",13)(1,"img",14),f("error",function(){u(e);let o=m().$implicit;return g(o.imagen="assets/pngegg.png")}),a()()}if(t&2){let e=m().$implicit;Y(K(3,wi)),s(),c("src",e.imagen,$e)}}function ki(t,r){if(t&1&&x(0,"p-badge",15),t&2){let e=m().$implicit;c("value",e.jugador.media)}}function Vi(t,r){if(t&1&&(n(0,"span",18),d(1),a()),t&2){let e=m().$implicit;s(),F(" ",e.jugador.apodo," ")}}function ji(t,r){if(t&1&&(R(0),n(1,"div",9),_(2,Ii,2,4,"p-avatar",10)(3,ki,1,1,"p-badge",11)(4,Vi,2,1,"span",17),a(),Q()),t&2){let e=r.$implicit;s(),Je("grid-column",e.col)("grid-row",e.row),s(),c("ngIf",e),s(),c("ngIf",e.jugador),s(),c("ngIf",e.jugador)}}function Ni(t,r){if(t&1&&(n(0,"li"),d(1),a()),t&2){let e=r.$implicit;s(),se(" ",e.jugador.nombre," - ",e.posicionUsada," (",e.media,") ")}}function Fi(t,r){if(t&1&&(n(0,"li"),d(1),a()),t&2){let e=r.$implicit;s(),se(" ",e.jugador.nombre," - ",e.posicionUsada," (",e.media,") ")}}function Oi(t,r){if(t&1&&(n(0,"li"),d(1),a()),t&2){let e=r.$implicit;s(),se(" ",e.jugador.nombre," (",e.equipo,") - Media: ",e.media," ")}}function Bi(t,r){if(t&1&&(n(0,"li"),d(1),a()),t&2){let e=r.$implicit;s(),Xe(" ",e.jugador.nombre," (",e.equipo,") - Goles: ",e.goles," - Asistencias: ",e.asistencias," - Atajadas: ",e.atajadas," ")}}function qi(t,r){if(t&1&&(n(0,"div")(1,"h2"),d(2,"Detalles del Partido"),a(),n(3,"h3"),d(4,"Equipo Blanco"),a(),n(5,"ul"),_(6,Ni,2,3,"li",6),a(),n(7,"h3"),d(8,"Equipo Negro"),a(),n(9,"ul"),_(10,Fi,2,3,"li",6),a(),n(11,"h3"),d(12,"Suplentes"),a(),n(13,"ul"),_(14,Oi,2,3,"li",6),a(),n(15,"h3"),d(16,"Highlights"),a(),n(17,"ul"),_(18,Bi,2,5,"li",6),a()()),t&2){let e=m(2);s(6),c("ngForOf",e.partido.equipoBlanco.jugadores),s(4),c("ngForOf",e.partido.equipoNegro.jugadores),s(4),c("ngForOf",e.partido.suplentes),s(4),c("ngForOf",e.partido.highlights)}}function Di(t,r){if(t&1&&(n(0,"div",1)(1,"p-card",2)(2,"div",3)(3,"h3",4),d(4,"Equipo Blanco"),a(),n(5,"h2",4),d(6),a(),n(7,"div",5),_(8,Ei,5,7,"ng-container",6),a()()(),n(9,"p-card",2)(10,"div",3)(11,"h3",7),d(12,"Equipo Negro"),a(),n(13,"h2",7),d(14),a(),n(15,"div",5),_(16,ji,5,7,"ng-container",6),a()()(),_(17,qi,19,4,"div",8),a()),t&2){let e=m();s(6),F("Media Total: ",e.partido.equipoBlanco.mediaTotal,""),s(2),c("ngForOf",e.partido.equipoBlanco.jugadores),s(6),F("Media Total: ",e.partido.equipoNegro.mediaTotal,""),s(2),c("ngForOf",e.partido.equipoNegro.jugadores),s(),c("ngIf",e.partido)}}var U=class t{constructor(r){this.partidoService=r}partidoSeleccionado;idPartido;partido;ngOnInit(){this.partidoService.buscarPartidoByID(this.idPartido).subscribe(r=>{this.partido=r;let e=[{posicion:"POR",row:4,col:3},{posicion:"DFC",row:3,col:2},{posicion:"DFC",row:3,col:4},{posicion:"MC",row:2,col:2},{posicion:"MC",row:2,col:4},{posicion:"DC",row:1,col:3}],i=this.asignarPosiciones(this.partido.equipoBlanco.jugadores,e),o=this.asignarPosiciones(this.partido.equipoNegro.jugadores,e);this.partido.equipoBlanco.jugadores=i,this.partido.equipoNegro.jugadores=o},r=>{console.error("Error obteniendo partido:",r)})}calcularMedia(r){let e=r.reduce((i,o)=>i+o.media,0);return Math.round(e/r.length)}asignarPosiciones=(r,e)=>{let i=[...e];return(Array.isArray(r)?r:[]).map(p=>{let v=i.findIndex(b=>b.posicion===p.posicionUsada);if(v!==-1){let[b]=i.splice(v,1);return J($({},p),{row:b.row,col:b.col,imagen:`assets/${p.jugador.id}.png`})}else return J($({},p),{row:null,col:null,imagen:null})})};static \u0275fac=function(e){return new(e||t)(T(N))};static \u0275cmp=k({type:t,selectors:[["app-formacion"]],inputs:{idPartido:"idPartido"},decls:1,vars:1,consts:[["class","grid grid-cols-1 md:grid-cols-2 gap-4 p-4",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"w-full","md:w-auto"],[1,"flex","flex-col","items-center"],[1,"text-xl","font-bold","text-blue-500"],[1,"grid","grid-rows-4","grid-cols-5","gap-4","mt-4","w-full","cancha",2,"background-image","url(/assets/field.png)"],[4,"ngFor","ngForOf"],[1,"text-xl","font-bold","text-gray-700"],[4,"ngIf"],[1,"relative","flex","flex-col","items-center"],["shape","circle","size","large",3,"style",4,"ngIf"],["class","absolute top-0 right-0",3,"value",4,"ngIf"],["class","text-sm font-semibold mt-2",4,"ngIf"],["shape","circle","size","large"],[3,"error","src"],[1,"absolute","top-0","right-0",3,"value"],[1,"text-sm","font-semibold","mt-2"],["class","text-sm font-semibold mt-2 text-white",4,"ngIf"],[1,"text-sm","font-semibold","mt-2","text-white"]],template:function(e,i){e&1&&_(0,Di,18,5,"div",0),e&2&&c("ngIf",i.partido)},dependencies:[j,ce,V,Oe,ee,St,Ct,Tt,Pt],styles:[".cancha[_ngcontent-%COMP%]{background-size:130%;background-position:center;background-repeat:no-repeat;height:100%;width:100%}"]})};var Ai=()=>({width:"450px"});function Wi(t,r){t&1&&(n(0,"p"),d(1,"No hay Partidos registrados"),a())}function Ri(t,r){if(t&1&&(n(0,"span",25),d(1),tt(2,"date"),a()),t&2){let e=m().$implicit;s(),h(it(2,1,e.fecha,"EEEE d 'de' MMMM y"))}}function Qi(t,r){if(t&1){let e=y();n(0,"div",26)(1,"span",27),d(2),a(),n(3,"span",28),d(4,"Equipo Blanco"),a(),x(5,"span",29),n(6,"span",9),d(7),a(),n(8,"span",9),d(9," - "),a(),n(10,"span",9),d(11),a(),x(12,"span",30),n(13,"span",28),d(14,"Equipo Negro"),a(),n(15,"p-button",31),f("click",function(){u(e);let o=m().$implicit,l=m();return g(l.editarPartido(o))}),a(),n(16,"p-button",32),f("click",function(){u(e);let o=m().$implicit,l=m();return g(l.eliminarPartido(o.id))}),a(),n(17,"p-button",33),f("click",function(){u(e);let o=m().$implicit,l=m();return g(l.abrirModal(o.id))}),a()()}if(t&2){let e=m(),i=e.$implicit,o=e.index;s(2),h(o+1),s(5),h(i.marcador.equipoBlanco),s(4),h(i.marcador.equipoNegro),s(4),c("rounded",!0)("outlined",!0),s(),c("rounded",!0)("outlined",!0),s(),c("rounded",!0)("outlined",!0)}}function Gi(t,r){t&1&&(n(0,"p-card"),_(1,Ri,3,4,"ng-template",23)(2,Qi,18,9,"ng-template",24),a())}function Zi(t,r){if(t&1){let e=y();n(0,"p",34),f("click",function(){let o=u(e).$implicit,l=m();return g(l.agregarGoleador(o,"Blanco"))}),d(1),a()}if(t&2){let e=r.$implicit;s(),F(" ",e.apodo," ")}}function Ui(t,r){if(t&1){let e=y();n(0,"p",34),f("click",function(){let o=u(e).$implicit,l=m();return g(l.agregarGoleador(o,"Negro"))}),d(1),a()}if(t&2){let e=r.$implicit;s(),F(" ",e.apodo," ")}}function Yi(t,r){t&1&&(n(0,"p"),d(1,"No hay highlights registradas"),a())}function Ki(t,r){if(t&1){let e=y();n(0,"p-card")(1,"div",35)(2,"label",36),d(3),a(),n(4,"label",37),d(5,"Goles"),a(),n(6,"p-inputNumber",38),P("ngModelChange",function(o){let l=u(e).$implicit;return w(l.goles,o)||(l.goles=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(7,"label",37),d(8,"Asistencias"),a(),n(9,"p-inputNumber",38),P("ngModelChange",function(o){let l=u(e).$implicit;return w(l.asistencias,o)||(l.asistencias=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(10,"label",37),d(11,"Atajadas"),a(),n(12,"p-inputNumber",38),P("ngModelChange",function(o){let l=u(e).$implicit;return w(l.atajadas,o)||(l.atajadas=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(13,"p-button",39),f("click",function(){let o=u(e).$implicit,l=m();return g(l.eliminarHighlight(o.jugador.id))}),a()()()}if(t&2){let e=r.$implicit,i=r.index;s(2),C("id","nombre",i,""),s(),h(e.jugador.nombre),s(),C("for","goles",i,""),s(2),C("id","goles",i,""),S("ngModel",e.goles),c("min",0)("max",100)("showButtons",!0),s(),C("for","asistencias",i,""),s(2),C("id","asistencias",i,""),S("ngModel",e.asistencias),c("min",0)("max",100)("showButtons",!0),s(),C("for","atajadas",i,""),s(2),C("id","atajadas",i,""),S("ngModel",e.atajadas),c("min",0)("max",100)("showButtons",!0)}}function Xi(t,r){t&1&&(n(0,"p"),d(1,"No hay highlights registradas"),a())}function eo(t,r){if(t&1){let e=y();n(0,"p-card")(1,"div",35)(2,"label",36),d(3),a(),n(4,"label",37),d(5,"Goles"),a(),n(6,"p-inputNumber",38),P("ngModelChange",function(o){let l=u(e).$implicit;return w(l.goles,o)||(l.goles=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(7,"label",37),d(8,"Asistencias"),a(),n(9,"p-inputNumber",38),P("ngModelChange",function(o){let l=u(e).$implicit;return w(l.asistencias,o)||(l.asistencias=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(10,"label",37),d(11,"Atajadas"),a(),n(12,"p-inputNumber",38),P("ngModelChange",function(o){let l=u(e).$implicit;return w(l.atajadas,o)||(l.atajadas=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(13,"p-button",39),f("click",function(){let o=u(e).$implicit,l=m();return g(l.eliminarHighlight(o.jugador.id))}),a()()()}if(t&2){let e=r.$implicit,i=r.index;s(2),C("id","nombre",i,""),s(),h(e.jugador.nombre),s(),C("for","goles",i,""),s(2),C("id","goles",i,""),S("ngModel",e.goles),c("min",0)("max",100)("showButtons",!0),s(),C("for","asistencias",i,""),s(2),C("id","asistencias",i,""),S("ngModel",e.asistencias),c("min",0)("max",100)("showButtons",!0),s(),C("for","atajadas",i,""),s(2),C("id","atajadas",i,""),S("ngModel",e.atajadas),c("min",0)("max",100)("showButtons",!0)}}function to(t,r){if(t&1&&x(0,"app-formacion",40),t&2){let e=m();c("idPartido",e.idPartido)}}var Be=class t{constructor(r,e,i,o){this.http=r;this.messageService=e;this.partidoService=i;this.confirmationService=o}partidos=[];modalVisible=!1;selectedMatch=this.getEmptyMatch();showPopoverBlanco=!1;showPopoverNegro=!1;mostrarModal=!1;idPartido;abrirModal(r){this.idPartido=r,this.mostrarModal=!0}ngOnInit(){this.cargarPartidos()}cargarPartidos(){this.http.get("https://bluelockb.onrender.com/api/partidos/listar-partidos").subscribe(r=>{this.partidos=r.map(e=>J($({},e),{id:e._id}))})}editarPartido(r){this.selectedMatch=J($({},r),{highlights:[...r.highlights]}),this.modalVisible=!0}getGoleadoresBlanco(){return this.selectedMatch?.highlights.filter(r=>r.equipo==="Blanco")||[]}getGoleadoresNegro(){return this.selectedMatch?.highlights.filter(r=>r.equipo==="Negro")||[]}actualizarMarcador(){let r=this.selectedMatch.highlights.filter(i=>i.equipo==="Blanco").reduce((i,o)=>i+o.goles,0),e=this.selectedMatch.highlights.filter(i=>i.equipo==="Negro").reduce((i,o)=>i+o.goles,0);this.selectedMatch.marcador={equipoBlanco:r,equipoNegro:e}}eliminarHighlight(r){this.selectedMatch.highlights=this.selectedMatch.highlights.filter(e=>e.jugador.id!==r),this.actualizarMarcador()}getJugadoresDisponibles(r){let e=r==="Blanco"?this.selectedMatch.equipoBlanco:this.selectedMatch.equipoNegro,i=this.selectedMatch.suplentes.filter(v=>v.equipo===r).map(v=>v.jugador),l=[...e.jugadores.map(v=>v.jugador),...i],p=this.selectedMatch.highlights.filter(v=>v.equipo===r).map(v=>v.jugador.id);return l.filter(v=>!p.includes(v.id))}agregarGoleador(r,e){this.selectedMatch.highlights.push({id:r.id,jugador:{id:r.id,nombre:r.apodo},goles:0,asistencias:0,atajadas:0,equipo:e}),e==="Blanco"?this.showPopoverBlanco=!1:this.showPopoverNegro=!1,this.actualizarMarcador()}eliminarPartido(r){this.confirmationService.confirm({message:"\xBFEst\xE1s seguro de que deseas eliminar el Partido?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.partidoService.eliminarPartido(r).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Partido Eliminado",detail:"El partido se ha eliminado correctamente."}),this.partidos=this.partidos.filter(e=>e.id!==r)},error:e=>{let i=e?.error?.message||e?.message||"Hubo un problema al generar la alineaci\xF3n.";this.messageService.add({severity:"error",summary:"Error",detail:i})}})}})}verAlineacion(r){alert(`Alineacion de: ${r}`)}opcionesEstado=[{label:"Abierto",value:"Abierto"},{label:"Cerrado",value:"Cerrado"}];saveMatch(){if(this.partidos.findIndex(e=>e.id===this.selectedMatch.id)!==-1){let e=this.selectedMatch.highlights.filter(b=>b.equipo==="Blanco").reduce((b,De)=>b+De.goles,0),i=this.selectedMatch.highlights.filter(b=>b.equipo==="Negro").reduce((b,De)=>b+De.goles,0),o={equipoBlanco:e,equipoNegro:i},l=this.selectedMatch.highlights.map(b=>({jugador:b.jugador.id,equipo:b.equipo,goles:b.goles,asistencias:b.asistencias,atajadas:b.atajadas})),p=this.selectedMatch.estado,v={marcador:o,highlights:l,estado:p};this.http.put(`https://bluelockb.onrender.com/api/partidos/actualizar-partido/${this.selectedMatch.id}`,v).subscribe(b=>{this.modalVisible=!1,this.cargarPartidos(),this.messageService.add({severity:"success",summary:"Exitoso",detail:"El partido fue guardado correctamente"})},b=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error al guardar el partido"})})}}getEmptyMatch(){return{id:"",fecha:new Date().toISOString(),equipoBlanco:{jugadores:[],mediaTotal:0},equipoNegro:{jugadores:[],mediaTotal:0},marcador:{equipoBlanco:0,equipoNegro:0},suplentes:[],highlights:[],estado:"Abierto"}}static \u0275fac=function(e){return new(e||t)(T(ge),T(q),T(N),T(B))};static \u0275cmp=k({type:t,selectors:[["app-partidos"]],features:[O([q,B])],decls:43,vars:20,consts:[["popoverBlanco",""],["popoverNegro",""],[1,"card","w-full","md:w-auto"],[1,"container"],[4,"ngIf"],[4,"ngFor","ngForOf"],["header","Editar Partido",3,"visibleChange","visible","modal","closable"],[1,"p-fluid","parent"],[1,"div1"],[1,"marcador"],["fluid","","required","",3,"ngModelChange","options","ngModel"],[1,"div2"],["label","A\xF1adir Anotador","icon","pi pi-plus",3,"click"],[1,"popover-content"],[3,"click",4,"ngFor","ngForOf"],[1,"div3"],[1,"div4"],[1,"div5"],[1,"div6"],["label","Guardar",1,"p-button-primary",3,"click"],["label","Cancelar",1,"p-button-secondary",3,"click"],["modal","","header","Formaci\xF3n del Partido",3,"visibleChange","visible"],[3,"idPartido",4,"ngIf"],["pTemplate","header"],["pTemplate","content"],[1,"fecha"],[1,"contenido"],[1,"numero"],[1,"equipo"],[1,"circulo","blanco"],[1,"circulo","negro"],["icon","pi pi-pencil","severity","success",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],["icon","pi pi-eye","severity","info",3,"click","rounded","outlined"],[3,"click"],[1,"p-field"],[1,"block","font-bold","mb-2",3,"id"],[1,"block","font-bold","mb-2",3,"for"],[3,"ngModelChange","id","ngModel","min","max","showButtons"],["icon","pi pi-times","styleClass","p-button-danger",3,"click"],[3,"idPartido"]],template:function(e,i){if(e&1){let o=y();n(0,"div",2)(1,"div",3),_(2,Wi,2,0,"p",4)(3,Gi,3,0,"p-card",5),a()(),n(4,"p-dialog",6),P("visibleChange",function(p){return u(o),w(i.modalVisible,p)||(i.modalVisible=p),g(p)}),n(5,"div",7)(6,"div",8),d(7," Equipo Blanco "),n(8,"span",9),d(9),a(),d(10," - Equipo Negro "),n(11,"span",9),d(12),a(),n(13,"p-select",10),P("ngModelChange",function(p){return u(o),w(i.selectedMatch.estado,p)||(i.selectedMatch.estado=p),g(p)}),a()(),n(14,"div",11)(15,"span"),d(16,"Goleadores Equipo Blanco"),a(),n(17,"p-button",12),f("click",function(p){u(o);let v=ze(19);return g(v.toggle(p))}),a(),n(18,"p-popover",null,0)(20,"div",13),_(21,Zi,2,1,"p",14),a()()(),n(22,"div",15)(23,"span"),d(24,"Goleadores Equipo Negro"),a(),n(25,"p-button",12),f("click",function(p){u(o);let v=ze(27);return g(v.toggle(p))}),a(),n(26,"p-popover",null,1)(28,"div",13),_(29,Ui,2,1,"p",14),a()()(),n(30,"div",16),_(31,Yi,2,0,"p",4)(32,Ki,14,27,"p-card",5),a(),n(33,"div",17),_(34,Xi,2,0,"p",4)(35,eo,14,27,"p-card",5),a(),n(36,"div",18)(37,"p-button",19),f("click",function(){return u(o),g(i.saveMatch())}),a(),n(38,"p-button",20),f("click",function(){return u(o),g(i.modalVisible=!1)}),a()()()(),n(39,"p-dialog",21),P("visibleChange",function(p){return u(o),w(i.mostrarModal,p)||(i.mostrarModal=p),g(p)}),_(40,to,1,1,"app-formacion",22),a(),x(41,"p-toast")(42,"p-confirmdialog")}e&2&&(s(2),c("ngIf",i.partidos.length===0),s(),c("ngForOf",i.partidos),s(),S("visible",i.modalVisible),c("modal",!0)("closable",!0),s(5),h(i.selectedMatch.marcador.equipoBlanco),s(3),h(i.selectedMatch.marcador.equipoNegro),s(),c("options",i.opcionesEstado),S("ngModel",i.selectedMatch.estado),s(8),c("ngForOf",i.getJugadoresDisponibles("Blanco")),s(8),c("ngForOf",i.getJugadoresDisponibles("Negro")),s(2),c("ngIf",!i.getGoleadoresBlanco().length),s(),c("ngForOf",i.getGoleadoresBlanco()),s(2),c("ngIf",!i.getGoleadoresNegro().length),s(),c("ngForOf",i.getGoleadoresNegro()),s(4),S("visible",i.mostrarModal),s(),c("ngIf",i.mostrarModal),s(2),Y(K(19,Ai)))},dependencies:[j,ce,V,nt,Me,D,ve,vt,yt,bt,Ce,xe,Se,Pe,Mt,Ve,ke,Oe,ee,Ht,Qe,Ie,Ee,Ne,je,U,Te,kt],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;padding:20px}.partido-card[_ngcontent-%COMP%]{background:flex;color:flex;padding:10px;border-radius:10px;display:flex;flex-direction:column;border:1px solid #2e2e42}.fecha[_ngcontent-%COMP%]{font-size:.8rem;color:#b0b0b0;margin-bottom:5px}.contenido[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.numero[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.equipo[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.circulo[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;outline:auto}.blanco[_ngcontent-%COMP%]{background:#fff}.negro[_ngcontent-%COMP%]{background:#000}.marcador[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.edit[_ngcontent-%COMP%]{margin-left:auto;color:#007bff}.delete[_ngcontent-%COMP%]{color:red}.parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(6,1fr);gap:8px}.div1[_ngcontent-%COMP%]{grid-column:span 4 / span 4}.div2[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-row-start:2}.div3[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-column-start:3;grid-row-start:2}.div4[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-row:span 3 / span 3;grid-row-start:3}.div5[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-row:span 3 / span 3;grid-column-start:3;grid-row-start:3}.div6[_ngcontent-%COMP%]{grid-column:span 4 / span 4;grid-row-start:6}"]})};function io(t,r){if(t&1){let e=y();n(0,"p-button",16),f("click",function(o){u(e);let l=m();return g(l.confirm1(o))}),a()}t&2&&c("outlined",!0)}function oo(t,r){t&1&&(n(0,"tr"),x(1,"th"),n(2,"th"),d(3,"Jugador"),a(),n(4,"th"),d(5,"Posici\xF3n Principal"),a(),n(6,"th"),d(7,"Posici\xF3n Secundaria"),a(),n(8,"th"),d(9,"Lado"),a(),n(10,"th"),d(11,"Media"),a()())}function ro(t,r){if(t&1&&(n(0,"tr",17)(1,"td"),x(2,"p-tableCheckbox",18),a(),n(3,"td"),d(4),a(),n(5,"td"),d(6),a(),n(7,"td"),d(8),a(),n(9,"td"),d(10),a(),n(11,"td"),d(12),a()()),t&2){let e=r.$implicit;c("pSelectableRow",e),s(2),c("value",e),s(2),h(e.apodo),s(2),h(e.pos_principal),s(2),h(e.pos_secundaria),s(2),h(e.pierna_habil),s(2),h(e.media)}}function no(t,r){t&1&&(n(0,"tr"),x(1,"th"),n(2,"th"),d(3,"Jugador"),a(),n(4,"th"),d(5,"Posici\xF3n Principal"),a(),n(6,"th"),d(7,"Posici\xF3n Secundaria"),a(),n(8,"th"),d(9,"Lado"),a(),n(10,"th"),d(11,"Media"),a()())}function ao(t,r){if(t&1){let e=y();n(0,"tr")(1,"td")(2,"p-button",19),f("click",function(){let o=u(e).$implicit,l=m();return g(l.removerJugador(o))}),a()(),n(3,"td"),d(4),a(),n(5,"td"),d(6),a(),n(7,"td"),d(8),a(),n(9,"td"),d(10),a(),n(11,"td"),d(12),a()()}if(t&2){let e=r.$implicit;s(4),h(e.apodo),s(2),h(e.pos_principal),s(2),h(e.pos_secundaria),s(2),h(e.pierna_habil),s(2),h(e.media)}}function so(t,r){if(t&1&&x(0,"app-formacion",20),t&2){let e=m();c("idPartido",e.idPartido)}}var qe=class t{constructor(r,e,i,o){this.jugadorService=r;this.confirmationService=e;this.partidoService=i;this.messageService=o}inscritos=[];jugadores=W([]);presentados=[];selectedJugadores=[];jsonVisible=!1;jsonOutput="";mostrarModal=!1;idPartido;partidoCreado;ngOnInit(){this.jugadorService.cargarJugadores(),this.jugadores=this.jugadorService.jugadores,this.actualizarSeleccionados()}actualizarSeleccionados(){this.selectedJugadores=this.inscritos.filter(r=>this.presentados.some(e=>e.nombre===r.nombre))}moverJugadores(){this.selectedJugadores.length&&(this.selectedJugadores.forEach(r=>{this.presentados.some(e=>e.nombre===r.nombre)||this.presentados.push(r)}),this.inscritos=this.inscritos.filter(r=>!this.selectedJugadores.includes(r)),this.selectedJugadores=[...this.selectedJugadores])}removerJugador(r){this.inscritos.some(e=>e.nombre===r.nombre)||this.inscritos.push(r),this.presentados=this.presentados.filter(e=>e!==r),this.selectedJugadores=this.selectedJugadores.filter(e=>e!==r)}mostrarJSON(){this.jsonVisible=!this.jsonVisible}abrirModal(r){this.idPartido=r,this.mostrarModal=!0}confirm1(r){let e=this.presentados.map(i=>i.id).filter(i=>i!==void 0);this.confirmationService.confirm({message:`\xBFEst\xE1s seguro de que deseas generar la alineaci\xF3n con ${this.presentados.length} jugadores?`,accept:()=>{this.partidoService.agregarPartido(e).subscribe({next:i=>{this.messageService.add({severity:"success",summary:"Partido Creado",detail:"La alineaci\xF3n se ha generado correctamente."}),this.partidoCreado=i,i&&this.partidoCreado.id&&this.abrirModal(this.partidoCreado.id)},error:i=>{let o=i?.error?.error||i?.message||"Hubo un problema al generar la alineaci\xF3n.";this.messageService.add({severity:"error",summary:"Error",detail:o})}})}})}static \u0275fac=function(e){return new(e||t)(T(ye),T(B),T(N),T(q))};static \u0275cmp=k({type:t,selectors:[["app-nuevo-partido"]],features:[O([q,ye,B,N])],decls:27,vars:6,consts:[["start",""],["styleClass","mb-6"],[1,"grid","grid-cols-12","gap-8"],[1,"col-span-12","md:col-span-5"],[1,"card","!mb-8"],[1,"col-9"],[1,"text-center","bg-primary","text-white","p-2","border-round"],["dataKey","nombre",1,"w-full",3,"selectionChange","value","selection"],["pTemplate","header"],["pTemplate","body"],[1,"col-span-2","md:col-span-2","text-center","mt-4"],["icon","pi pi-arrow-right-arrow-left",3,"click","disabled"],[1,"col-5"],[1,"w-full",3,"value"],["modal","","header","Formaci\xF3n del Partido",3,"visibleChange","visible"],[3,"idPartido",4,"ngIf"],["label","Generar Alineacion","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"click","outlined"],[3,"pSelectableRow"],[3,"value"],["icon","pi pi-times",1,"p-button-rounded","p-button-danger","p-button-text",3,"click"],[3,"idPartido"]],template:function(e,i){if(e&1){let o=y();n(0,"p-toolbar",1),_(1,io,1,1,"ng-template",null,0,ot),a(),n(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h3",6),d(8,"Jugadores Inscritos"),a(),n(9,"p-table",7),P("selectionChange",function(p){return u(o),w(i.selectedJugadores,p)||(i.selectedJugadores=p),g(p)}),_(10,oo,12,0,"ng-template",8)(11,ro,13,7,"ng-template",9),a()()()(),n(12,"div",10)(13,"p-button",11),f("click",function(){return u(o),g(i.moverJugadores())}),a()(),n(14,"div",3)(15,"div",4)(16,"div",12)(17,"h3",6),d(18,"Jugadores Presentados"),a(),n(19,"p-table",13),_(20,no,12,0,"ng-template",8)(21,ao,13,5,"ng-template",9),a()()()(),x(22,"p-toast")(23,"p-confirmdialog"),a(),n(24,"p-dialog",14),P("visibleChange",function(p){return u(o),w(i.mostrarModal,p)||(i.mostrarModal=p),g(p)}),_(25,so,1,1,"app-formacion",15),a(),x(26,"p-toast")}e&2&&(s(9),c("value",i.jugadores()),S("selection",i.selectedJugadores),s(4),c("disabled",!i.selectedJugadores),s(6),c("value",i.presentados),s(5),S("visible",i.mostrarModal),s(),c("ngIf",i.mostrarModal))},dependencies:[j,V,Me,jt,D,Nt,Ft,ve,Ce,xe,xt,Ie,Ee,Bt,Ot,qt,Se,Dt,Te,Vt,Pe,Ve,ke,Lt,It,Et,Ne,je,U],encapsulation:2})};var Kr=[{path:"partidos",component:Be},{path:"nuevoPartido",component:qe}];export{Kr as default};

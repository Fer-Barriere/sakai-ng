import{a as at,b as st}from"./chunk-H4HHIR4Q.js";import{a as gt,b as _t,g as ft,h as ht,o as vt,p as bt,q as yt,r as Ct,s as xt,t as wt,u as St}from"./chunk-QVL25PB4.js";import{f as ut,i as ve}from"./chunk-TRG5VYBG.js";import{$ as _e,Aa as lt,B as Ve,Ca as ct,Da as pt,Ga as dt,H as Ue,Ha as mt,I as Ze,Q as Ye,X as ge,a as de,aa as Ke,ba as Xe,ca as et,da as R,ea as j,f as Re,ga as tt,ka as fe,m as Qe,q as Je,qa as it,ra as ot,sa as rt,ta as nt,u as Ge,ua as he}from"./chunk-CTNDMIXX.js";import{$a as c,Ab as S,Ac as We,Ba as Be,Bb as k,Bc as Ie,Da as s,Db as re,Dc as me,Ea as O,Eb as De,Ec as ue,Fb as P,Fc as ke,Gb as M,Hb as E,Ib as W,Jb as G,Ka as K,Kb as $e,Lb as Ee,Na as T,Oa as X,P as q,Q as Y,Ra as ee,Sa as qe,Sb as Le,Ta as _,Tb as ze,U as Oe,V as D,Yb as ne,Zb as Ae,_a as te,a as F,ab as Pe,b as B,ba as u,ca as g,cb as J,db as ie,fa as $,ib as n,jb as a,ka as Se,kb as I,la as Fe,lb as L,mb as z,mc as ae,nb as A,nc as se,ob as y,oc as V,pb as f,pc as le,qb as m,qc as ce,rb as oe,rc as He,sb as H,sc as N,tb as b,ub as C,uc as pe,wb as x,xb as w,yb as Me,za as Te,zb as p}from"./chunk-X3MJR35J.js";var Vt=["header"],Nt=["title"],jt=["subtitle"],Ot=["content"],Ft=["footer"],Bt=["*",[["p-header"]],[["p-footer"]]],qt=["*","p-header","p-footer"];function Dt(t,r){t&1&&A(0)}function $t(t,r){if(t&1&&(n(0,"div",8),H(1,1),_(2,Dt,1,0,"ng-container",6),a()),t&2){let e=m();s(2),c("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function Lt(t,r){if(t&1&&(L(0),p(1),z()),t&2){let e=m(2);s(),S(e.header)}}function zt(t,r){t&1&&A(0)}function At(t,r){if(t&1&&(n(0,"div",9),_(1,Lt,2,1,"ng-container",10)(2,zt,1,0,"ng-container",6),a()),t&2){let e=m();s(),c("ngIf",e.header&&!e._titleTemplate&&!e.titleTemplate),s(),c("ngTemplateOutlet",e.titleTemplate||e._titleTemplate)}}function Ht(t,r){if(t&1&&(L(0),p(1),z()),t&2){let e=m(2);s(),S(e.subheader)}}function Wt(t,r){t&1&&A(0)}function Rt(t,r){if(t&1&&(n(0,"div",11),_(1,Ht,2,1,"ng-container",10)(2,Wt,1,0,"ng-container",6),a()),t&2){let e=m();s(),c("ngIf",e.subheader&&!e._subtitleTemplate&&!e.subtitleTemplate),s(),c("ngTemplateOutlet",e.subtitleTemplate||e._subtitleTemplate)}}function Qt(t,r){t&1&&A(0)}function Jt(t,r){t&1&&A(0)}function Gt(t,r){if(t&1&&(n(0,"div",12),H(1,2),_(2,Jt,1,0,"ng-container",6),a()),t&2){let e=m();s(2),c("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}var Ut=({dt:t})=>`
.p-card {
    background: ${t("card.background")};
    color: ${t("card.color")};
    box-shadow: ${t("card.shadow")};
    border-radius: ${t("card.border.radius")};
    display: flex;
    flex-direction: column;
}

.p-card-caption {
    display: flex;
    flex-direction: column;
    gap: ${t("card.caption.gap")};
}

.p-card-body {
    padding: ${t("card.body.padding")};
    display: flex;
    flex-direction: column;
    gap: ${t("card.body.gap")};
}

.p-card-title {
    font-size: ${t("card.title.font.size")};
    font-weight: ${t("card.title.font.weight")};
}

.p-card-subtitle {
    color: ${t("card.subtitle.color")};
}
`,Zt={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},Tt=(()=>{class t extends fe{name="card";theme=Ut;classes=Zt;static \u0275fac=(()=>{let e;return function(o){return(e||(e=$(t)))(o||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();var Z=(()=>{class t extends he{header;subheader;set style(e){Ye(this._style(),e)||this._style.set(e)}styleClass;headerFacet;footerFacet;headerTemplate;titleTemplate;subtitleTemplate;contentTemplate;footerTemplate;_headerTemplate;_titleTemplate;_subtitleTemplate;_contentTemplate;_footerTemplate;_style=K(null);_componentStyle=D(Tt);getBlockableElement(){return this.el.nativeElement.children[0]}templates;ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"title":this._titleTemplate=e.template;break;case"subtitle":this._subtitleTemplate=e.template;break;case"content":this._contentTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}static \u0275fac=(()=>{let e;return function(o){return(e||(e=$(t)))(o||t)}})();static \u0275cmp=T({type:t,selectors:[["p-card"]],contentQueries:function(i,o,l){if(i&1&&(C(l,Xe,5),C(l,et,5),C(l,Vt,4),C(l,Nt,4),C(l,jt,4),C(l,Ot,4),C(l,Ft,4),C(l,R,4)),i&2){let d;x(d=w())&&(o.headerFacet=d.first),x(d=w())&&(o.footerFacet=d.first),x(d=w())&&(o.headerTemplate=d.first),x(d=w())&&(o.titleTemplate=d.first),x(d=w())&&(o.subtitleTemplate=d.first),x(d=w())&&(o.contentTemplate=d.first),x(d=w())&&(o.footerTemplate=d.first),x(d=w())&&(o.templates=d)}},inputs:{header:"header",subheader:"subheader",style:"style",styleClass:"styleClass"},features:[W([Tt]),ee],ngContentSelectors:qt,decls:9,vars:10,consts:[[3,"ngClass","ngStyle"],["class","p-card-header",4,"ngIf"],[1,"p-card-body"],["class","p-card-title",4,"ngIf"],["class","p-card-subtitle",4,"ngIf"],[1,"p-card-content"],[4,"ngTemplateOutlet"],["class","p-card-footer",4,"ngIf"],[1,"p-card-header"],[1,"p-card-title"],[4,"ngIf"],[1,"p-card-subtitle"],[1,"p-card-footer"]],template:function(i,o){i&1&&(oe(Bt),n(0,"div",0),_(1,$t,3,1,"div",1),n(2,"div",2),_(3,At,3,2,"div",3)(4,Rt,3,2,"div",4),n(5,"div",5),H(6),_(7,Qt,1,0,"ng-container",6),a(),_(8,Gt,3,1,"div",7),a()()),i&2&&(ie(o.styleClass),c("ngClass","p-card p-component")("ngStyle",o._style()),te("data-pc-name","card"),s(),c("ngIf",o.headerFacet||o.headerTemplate||o._headerTemplate),s(2),c("ngIf",o.header||o.titleTemplate||o._titleTemplate),s(),c("ngIf",o.subheader||o.subtitleTemplate||o._subtitleTemplate),s(3),c("ngTemplateOutlet",o.contentTemplate||o._contentTemplate),s(),c("ngIf",o.footerFacet||o.footerTemplate||o._footerTemplate))},dependencies:[N,ae,V,ce,le,j],encapsulation:2,changeDetection:0})}return t})(),be=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=X({type:t});static \u0275inj=Y({imports:[Z,j,j]})}return t})();var Yt=["content"],Kt=["*"],Xt=(t,r)=>({showTransitionParams:t,hideTransitionParams:r}),ei=(t,r)=>({value:t,params:r}),ti=t=>({closeCallback:t});function ii(t,r){}function oi(t,r){t&1&&_(0,ii,0,0,"ng-template")}function ri(t,r){if(t&1){let e=y();n(0,"div",1),f("click",function(o){u(e);let l=m();return g(l.onOverlayClick(o))})("@animation.start",function(o){u(e);let l=m();return g(l.onAnimationStart(o))})("@animation.done",function(o){u(e);let l=m();return g(l.onAnimationEnd(o))}),n(1,"div",2),f("click",function(o){u(e);let l=m();return g(l.onContentClick(o))})("mousedown",function(o){u(e);let l=m();return g(l.onContentClick(o))}),H(2),_(3,oi,1,0,null,3),a()()}if(t&2){let e=m();ie(e.styleClass),c("ngClass","p-popover p-component")("ngStyle",e.style)("@animation",Ee(13,ei,e.overlayVisible?"open":"close",Ee(10,Xt,e.showTransitionOptions,e.hideTransitionOptions))),te("aria-modal",e.overlayVisible)("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),s(3),c("ngTemplateOutlet",e.contentTemplate||e._contentTemplate)("ngTemplateOutletContext",$e(16,ti,e.onCloseClick.bind(e)))}}var ni=({dt:t})=>`
.p-popover {
    margin-top: ${t("popover.gutter")};
    background: ${t("popover.background")};
    color: ${t("popover.color")};
    border: 1px solid ${t("popover.border.color")};
    border-radius: ${t("popover.border.radius")};
    box-shadow: ${t("popover.shadow")};
    position: absolute
}

.p-popover-content {
    padding: ${t("popover.content.padding")};
}

.p-popover-flipped {
    margin-top: calc(${t("popover.gutter")} * -1);
    margin-bottom: ${t("popover.gutter")};
}

.p-popover-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-popover-leave-to {
    opacity: 0;
}

.p-popover-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-popover-leave-active {
    transition: opacity 0.1s linear;
}

.p-popover:after,
.p-popover:before {
    bottom: 100%;
    left: calc(${t("popover.arrow.offset")} + ${t("popover.arrow.left")});
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.p-popover:after {
    border-width: calc(${t("popover.gutter")} - 2px);
    margin-left: calc(-1 * (${t("popover.gutter")} - 2px));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${t("popover.background")};
}

.p-popover:before {
    border-width: ${t("popover.gutter")};
    margin-left: calc(-1 * ${t("popover.gutter")});
    border-style: solid;
    border-color: transparent;
    border-bottom-color: ${t("popover.border.color")};
}

.p-popover-flipped:after,
.p-popover-flipped:before {
    bottom: auto;
    top: 100%;
}

.p-popover.p-popover-flipped:after {
    border-bottom-color: transparent;
    border-top-color: ${t("popover.background")};
}

.p-popover.p-popover-flipped:before {
    border-bottom-color: transparent;
    border-top-color: ${t("popover.border.color")};
}

`,ai={root:"p-popover p-component",content:"p-popover-content"},Mt=(()=>{class t extends fe{name="popover";theme=ni;classes=ai;static \u0275fac=(()=>{let e;return function(o){return(e||(e=$(t)))(o||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),je=(()=>{class t extends he{ariaLabel;ariaLabelledBy;dismissable=!0;style;styleClass;appendTo="body";autoZIndex=!0;ariaCloseLabel;baseZIndex=0;focusOnShow=!0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";onShow=new Se;onHide=new Se;container;overlayVisible=!1;render=!1;isOverlayAnimationInProgress=!1;selfClick=!1;documentClickListener;target;willHide;scrollHandler;documentResizeListener;contentTemplate;templates;_contentTemplate;destroyCallback;overlayEventListener;overlaySubscription;_componentStyle=D(Mt);zone=D(Fe);overlayService=D(Ke);ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break}})}bindDocumentClickListener(){if(pe(this.platformId)&&!this.documentClickListener){let e=Ue()?"touchstart":"click",i=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(i,e,o=>{this.dismissable&&(!this.container?.contains(o.target)&&this.target!==o.target&&!this.target.contains(o.target)&&!this.selfClick&&this.hide(),this.selfClick=!1,this.cd.markForCheck())})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null,this.selfClick=!1)}toggle(e,i){this.isOverlayAnimationInProgress||(this.overlayVisible?(this.hasTargetChanged(e,i)&&(this.destroyCallback=()=>{this.show(null,i||e.currentTarget||e.target)}),this.hide()):this.show(e,i))}show(e,i){i&&e&&e.stopPropagation(),!this.isOverlayAnimationInProgress&&(this.target=i||e.currentTarget||e.target,this.overlayVisible=!0,this.render=!0,this.cd.markForCheck())}onOverlayClick(e){this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.selfClick=!0}onContentClick(e){let i=e.target;this.selfClick=e.offsetX<i.clientWidth&&e.offsetY<i.clientHeight}hasTargetChanged(e,i){return this.target!=null&&this.target!==(i||e.currentTarget||e.target)}appendContainer(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):Je(this.appendTo,this.container))}restoreAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}align(){this.autoZIndex&&ve.set("overlay",this.container,this.baseZIndex+this.config.zIndex.overlay),Qe(this.container,this.target,!1);let e=Ve(this.container),i=Ve(this.target),o=this.document.defaultView?.getComputedStyle(this.container).getPropertyValue("border-radius"),l=0;e.left<i.left&&(l=i.left-e.left-parseFloat(o)*2),this.container?.style.setProperty(tt("popover.arrow.left").name,`${l}px`),e.top<i.top&&(this.container.setAttribute("data-p-popover-flipped","true"),Re(this.container,"p-popover-flipped"))}onAnimationStart(e){e.toState==="open"&&(this.container=e.element,this.appendContainer(),this.align(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.focusOnShow&&this.focus(),this.overlayEventListener=i=>{this.container&&this.container.contains(i.target)&&(this.selfClick=!0)},this.overlaySubscription=this.overlayService.clickObservable.subscribe(this.overlayEventListener),this.onShow.emit(null)),this.isOverlayAnimationInProgress=!0}onAnimationEnd(e){switch(e.toState){case"void":this.destroyCallback&&(this.destroyCallback(),this.destroyCallback=null),this.overlaySubscription&&this.overlaySubscription.unsubscribe();break;case"close":this.autoZIndex&&ve.clear(this.container),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),this.onContainerDestroy(),this.onHide.emit({}),this.render=!1;break}this.isOverlayAnimationInProgress=!1}focus(){let e=Ge(this.container,"[autofocus]");e&&this.zone.runOutsideAngular(()=>{setTimeout(()=>e.focus(),5)})}hide(){this.overlayVisible=!1,this.cd.markForCheck()}onCloseClick(e){this.hide(),e.preventDefault()}onEscapeKeydown(e){this.hide()}onWindowResize(){this.overlayVisible&&!Ze()&&this.hide()}bindDocumentResizeListener(){if(pe(this.platformId)&&!this.documentResizeListener){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){pe(this.platformId)&&(this.scrollHandler||(this.scrollHandler=new lt(this.target,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener())}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onContainerDestroy(){this.cd.destroyed||(this.target=null),this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}ngOnDestroy(){this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&ve.clear(this.container),this.cd.destroyed||(this.target=null),this.destroyCallback=null,this.container&&(this.restoreAppend(),this.onContainerDestroy()),this.overlaySubscription&&this.overlaySubscription.unsubscribe(),super.ngOnDestroy()}static \u0275fac=(()=>{let e;return function(o){return(e||(e=$(t)))(o||t)}})();static \u0275cmp=T({type:t,selectors:[["p-popover"]],contentQueries:function(i,o,l){if(i&1&&(C(l,Yt,4),C(l,R,4)),i&2){let d;x(d=w())&&(o.contentTemplate=d.first),x(d=w())&&(o.templates=d)}},hostBindings:function(i,o){i&1&&f("keydown.escape",function(d){return o.onEscapeKeydown(d)},!1,Be)},inputs:{ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",dismissable:[2,"dismissable","dismissable",ne],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",ne],ariaCloseLabel:"ariaCloseLabel",baseZIndex:[2,"baseZIndex","baseZIndex",Ae],focusOnShow:[2,"focusOnShow","focusOnShow",ne],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onShow:"onShow",onHide:"onHide"},features:[W([Mt]),qe,ee],ngContentSelectors:Kt,decls:1,vars:1,consts:[["role","dialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","dialog",3,"click","ngClass","ngStyle"],[1,"p-popover-content",3,"click","mousedown"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,o){i&1&&(oe(),_(0,ri,4,18,"div",0)),i&2&&c("ngIf",o.render)},dependencies:[N,ae,V,ce,le,j],encapsulation:2,data:{animation:[We("animation",[ue("void",me({transform:"scaleY(0.8)",opacity:0})),ue("close",me({opacity:0})),ue("open",me({transform:"translateY(0)",opacity:1})),ke("void => open",Ie("{{showTransitionParams}}")),ke("open => close",Ie("{{hideTransitionParams}}"))])]},changeDetection:0})}return t})(),Et=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=X({type:t});static \u0275inj=Y({imports:[je,j,j]})}return t})();var Q=class t{constructor(r){this.http=r}apiUrl="https://bluelockb.onrender.com/api/partidos";partidos=K([]);cargarPartidos(){this.http.get(this.apiUrl).subscribe(r=>{this.partidos.set(r)})}buscarPartidoByID(r){return this.http.get(`${this.apiUrl}/${r}`)}agregarPartido(r){return this.http.post(`${this.apiUrl}/generar`,{ids:r})}eliminarPartido(r){return this.http.delete(`${this.apiUrl}/eliminarPartido/${r}`)}static \u0275fac=function(e){return new(e||t)(Oe(de))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var ci=()=>({border:"4px solid #3b82f6","background-color":"#ffffff"}),pi=()=>({border:"4px solid #1f2937","background-color":"#000000"});function di(t,r){if(t&1){let e=y();n(0,"p-avatar",13)(1,"img",14),f("error",function(){u(e);let o=m().$implicit;return g(o.imagen="assets/pngegg.png")}),a()()}if(t&2){let e=m().$implicit;J(G(3,ci)),s(),c("src",e.imagen,Te)}}function mi(t,r){if(t&1&&I(0,"p-badge",15),t&2){let e=m().$implicit;c("value",e.jugador.media)}}function ui(t,r){if(t&1&&(n(0,"span",16),p(1),a()),t&2){let e=m().$implicit;s(),k(" ",e.jugador.apodo," ")}}function gi(t,r){if(t&1&&(L(0),n(1,"div",9),_(2,di,2,4,"p-avatar",10)(3,mi,1,1,"p-badge",11)(4,ui,2,1,"span",12),a(),z()),t&2){let e=r.$implicit;s(),Pe("grid-column",e.col)("grid-row",e.row),s(),c("ngIf",e),s(),c("ngIf",e.jugador),s(),c("ngIf",e.jugador)}}function _i(t,r){if(t&1){let e=y();n(0,"p-avatar",13)(1,"img",14),f("error",function(){u(e);let o=m().$implicit;return g(o.imagen="assets/pngegg.png")}),a()()}if(t&2){let e=m().$implicit;J(G(3,pi)),s(),c("src",e.imagen,Te)}}function fi(t,r){if(t&1&&I(0,"p-badge",15),t&2){let e=m().$implicit;c("value",e.jugador.media)}}function hi(t,r){if(t&1&&(n(0,"span",18),p(1),a()),t&2){let e=m().$implicit;s(),k(" ",e.jugador.apodo," ")}}function vi(t,r){if(t&1&&(L(0),n(1,"div",9),_(2,_i,2,4,"p-avatar",10)(3,fi,1,1,"p-badge",11)(4,hi,2,1,"span",17),a(),z()),t&2){let e=r.$implicit;s(),Pe("grid-column",e.col)("grid-row",e.row),s(),c("ngIf",e),s(),c("ngIf",e.jugador),s(),c("ngIf",e.jugador)}}function bi(t,r){if(t&1&&(n(0,"li"),p(1),a()),t&2){let e=r.$implicit;s(),re(" ",e.jugador.nombre," - ",e.posicionUsada," (",e.media,") ")}}function yi(t,r){if(t&1&&(n(0,"li"),p(1),a()),t&2){let e=r.$implicit;s(),re(" ",e.jugador.nombre," - ",e.posicionUsada," (",e.media,") ")}}function Ci(t,r){if(t&1&&(n(0,"li"),p(1),a()),t&2){let e=r.$implicit;s(),re(" ",e.jugador.nombre," (",e.equipo,") - Media: ",e.media," ")}}function xi(t,r){if(t&1&&(n(0,"li"),p(1),a()),t&2){let e=r.$implicit;s(),De(" ",e.jugador.nombre," (",e.equipo,") - Goles: ",e.goles," - Asistencias: ",e.asistencias," - Atajadas: ",e.atajadas," ")}}function wi(t,r){if(t&1&&(n(0,"div")(1,"h2"),p(2,"Detalles del Partido"),a(),n(3,"h3"),p(4,"Equipo Blanco"),a(),n(5,"ul"),_(6,bi,2,3,"li",6),a(),n(7,"h3"),p(8,"Equipo Negro"),a(),n(9,"ul"),_(10,yi,2,3,"li",6),a(),n(11,"h3"),p(12,"Suplentes"),a(),n(13,"ul"),_(14,Ci,2,3,"li",6),a(),n(15,"h3"),p(16,"Highlights"),a(),n(17,"ul"),_(18,xi,2,5,"li",6),a()()),t&2){let e=m(2);s(6),c("ngForOf",e.partido.equipoBlanco.jugadores),s(4),c("ngForOf",e.partido.equipoNegro.jugadores),s(4),c("ngForOf",e.partido.suplentes),s(4),c("ngForOf",e.partido.highlights)}}function Si(t,r){if(t&1&&(n(0,"div",1)(1,"p-card",2)(2,"div",3)(3,"h3",4),p(4,"Equipo Blanco"),a(),n(5,"h2",4),p(6),a(),n(7,"div",5),_(8,gi,5,7,"ng-container",6),a()()(),n(9,"p-card",2)(10,"div",3)(11,"h3",7),p(12,"Equipo Negro"),a(),n(13,"h2",7),p(14),a(),n(15,"div",5),_(16,vi,5,7,"ng-container",6),a()()(),_(17,wi,19,4,"div",8),a()),t&2){let e=m();s(6),k("Media Total: ",e.partido.equipoBlanco.mediaTotal,""),s(2),c("ngForOf",e.partido.equipoBlanco.jugadores),s(6),k("Media Total: ",e.partido.equipoNegro.mediaTotal,""),s(2),c("ngForOf",e.partido.equipoNegro.jugadores),s(),c("ngIf",e.partido)}}var ye=class t{constructor(r){this.partidoService=r}partidoSeleccionado;idPartido;partido;ngOnInit(){this.partidoService.buscarPartidoByID(this.idPartido).subscribe(r=>{this.partido=r;let e=[{posicion:"POR",row:4,col:3},{posicion:"DFC",row:3,col:2},{posicion:"DFC",row:3,col:4},{posicion:"MC",row:2,col:2},{posicion:"MC",row:2,col:4},{posicion:"DC",row:1,col:3}],i=this.asignarPosiciones(this.partido.equipoBlanco.jugadores,e),o=this.asignarPosiciones(this.partido.equipoNegro.jugadores,e);this.partido.equipoBlanco.jugadores=i,this.partido.equipoNegro.jugadores=o},r=>{console.error("Error obteniendo partido:",r)})}calcularMedia(r){let e=r.reduce((i,o)=>i+o.media,0);return Math.round(e/r.length)}asignarPosiciones=(r,e)=>{let i=[...e];return(Array.isArray(r)?r:[]).map(d=>{let h=i.findIndex(v=>v.posicion===d.posicionUsada);if(h!==-1){let[v]=i.splice(h,1);return B(F({},d),{row:v.row,col:v.col,imagen:`assets/${d.jugador.id}.png`})}else return B(F({},d),{row:null,col:null,imagen:null})})};static \u0275fac=function(e){return new(e||t)(O(Q))};static \u0275cmp=T({type:t,selectors:[["app-formacion"]],inputs:{idPartido:"idPartido"},decls:1,vars:1,consts:[["class","grid grid-cols-1 md:grid-cols-2 gap-4 p-4",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4","p-4"],[1,"w-full","md:w-auto"],[1,"flex","flex-col","items-center"],[1,"text-xl","font-bold","text-blue-500"],[1,"grid","grid-rows-4","grid-cols-5","gap-4","mt-4","w-full","cancha",2,"background-image","url(/assets/field.png)"],[4,"ngFor","ngForOf"],[1,"text-xl","font-bold","text-gray-700"],[4,"ngIf"],[1,"relative","flex","flex-col","items-center"],["shape","circle","size","large",3,"style",4,"ngIf"],["class","absolute top-0 right-0",3,"value",4,"ngIf"],["class","text-sm font-semibold mt-2",4,"ngIf"],["shape","circle","size","large"],[3,"error","src"],[1,"absolute","top-0","right-0",3,"value"],[1,"text-sm","font-semibold","mt-2"],["class","text-sm font-semibold mt-2 text-white",4,"ngIf"],[1,"text-sm","font-semibold","mt-2","text-white"]],template:function(e,i){e&1&&_(0,Si,18,5,"div",0),e&2&&c("ngIf",i.partido)},dependencies:[N,se,V,be,Z,st,at,pt,ct],styles:[".cancha[_ngcontent-%COMP%]{background-size:130%;background-position:center;background-repeat:no-repeat;height:100%;width:100%}"]})};var Ti=()=>({width:"450px"});function Pi(t,r){t&1&&(n(0,"p"),p(1,"No hay Partidos registrados"),a())}function Mi(t,r){if(t&1&&(n(0,"span",25),p(1),Le(2,"date"),a()),t&2){let e=m().$implicit;s(),S(ze(2,1,e.fecha,"EEEE d 'de' MMMM y"))}}function Ei(t,r){if(t&1){let e=y();n(0,"div",26)(1,"span",27),p(2),a(),n(3,"span",28),p(4,"Equipo Blanco"),a(),I(5,"span",29),n(6,"span",9),p(7),a(),n(8,"span",9),p(9," - "),a(),n(10,"span",9),p(11),a(),I(12,"span",30),n(13,"span",28),p(14,"Equipo Negro"),a(),n(15,"p-button",31),f("click",function(){u(e);let o=m().$implicit,l=m();return g(l.editarPartido(o))}),a(),n(16,"p-button",32),f("click",function(){u(e);let o=m().$implicit,l=m();return g(l.eliminarPartido(o.id))}),a(),n(17,"p-button",33),f("click",function(){u(e);let o=m().$implicit,l=m();return g(l.abrirModal(o.id))}),a()()}if(t&2){let e=m(),i=e.$implicit,o=e.index;s(2),S(o+1),s(5),S(i.marcador.equipoBlanco),s(4),S(i.marcador.equipoNegro),s(4),c("rounded",!0)("outlined",!0),s(),c("rounded",!0)("outlined",!0),s(),c("rounded",!0)("outlined",!0)}}function Ii(t,r){t&1&&(n(0,"p-card"),_(1,Mi,3,4,"ng-template",23)(2,Ei,18,9,"ng-template",24),a())}function ki(t,r){if(t&1){let e=y();n(0,"p",34),f("click",function(){let o=u(e).$implicit,l=m();return g(l.agregarGoleador(o,"Blanco"))}),p(1),a()}if(t&2){let e=r.$implicit;s(),k(" ",e.apodo," ")}}function Vi(t,r){if(t&1){let e=y();n(0,"p",34),f("click",function(){let o=u(e).$implicit,l=m();return g(l.agregarGoleador(o,"Negro"))}),p(1),a()}if(t&2){let e=r.$implicit;s(),k(" ",e.apodo," ")}}function Ni(t,r){t&1&&(n(0,"p"),p(1,"No hay highlights registradas"),a())}function ji(t,r){if(t&1){let e=y();n(0,"p-card")(1,"div",35)(2,"label",36),p(3),a(),n(4,"label",37),p(5,"Goles"),a(),n(6,"p-inputNumber",38),E("ngModelChange",function(o){let l=u(e).$implicit;return M(l.goles,o)||(l.goles=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(7,"label",37),p(8,"Asistencias"),a(),n(9,"p-inputNumber",38),E("ngModelChange",function(o){let l=u(e).$implicit;return M(l.asistencias,o)||(l.asistencias=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(10,"label",37),p(11,"Atajadas"),a(),n(12,"p-inputNumber",38),E("ngModelChange",function(o){let l=u(e).$implicit;return M(l.atajadas,o)||(l.atajadas=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(13,"p-button",39),f("click",function(){let o=u(e).$implicit,l=m();return g(l.eliminarHighlight(o.jugador.id))}),a()()()}if(t&2){let e=r.$implicit,i=r.index;s(2),b("id","nombre",i,""),s(),S(e.jugador.nombre),s(),b("for","goles",i,""),s(2),b("id","goles",i,""),P("ngModel",e.goles),c("min",0)("max",100)("showButtons",!0),s(),b("for","asistencias",i,""),s(2),b("id","asistencias",i,""),P("ngModel",e.asistencias),c("min",0)("max",100)("showButtons",!0),s(),b("for","atajadas",i,""),s(2),b("id","atajadas",i,""),P("ngModel",e.atajadas),c("min",0)("max",100)("showButtons",!0)}}function Oi(t,r){t&1&&(n(0,"p"),p(1,"No hay highlights registradas"),a())}function Fi(t,r){if(t&1){let e=y();n(0,"p-card")(1,"div",35)(2,"label",36),p(3),a(),n(4,"label",37),p(5,"Goles"),a(),n(6,"p-inputNumber",38),E("ngModelChange",function(o){let l=u(e).$implicit;return M(l.goles,o)||(l.goles=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(7,"label",37),p(8,"Asistencias"),a(),n(9,"p-inputNumber",38),E("ngModelChange",function(o){let l=u(e).$implicit;return M(l.asistencias,o)||(l.asistencias=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(10,"label",37),p(11,"Atajadas"),a(),n(12,"p-inputNumber",38),E("ngModelChange",function(o){let l=u(e).$implicit;return M(l.atajadas,o)||(l.atajadas=o),g(o)}),f("ngModelChange",function(){u(e);let o=m();return g(o.actualizarMarcador())}),a(),n(13,"p-button",39),f("click",function(){let o=u(e).$implicit,l=m();return g(l.eliminarHighlight(o.jugador.id))}),a()()()}if(t&2){let e=r.$implicit,i=r.index;s(2),b("id","nombre",i,""),s(),S(e.jugador.nombre),s(),b("for","goles",i,""),s(2),b("id","goles",i,""),P("ngModel",e.goles),c("min",0)("max",100)("showButtons",!0),s(),b("for","asistencias",i,""),s(2),b("id","asistencias",i,""),P("ngModel",e.asistencias),c("min",0)("max",100)("showButtons",!0),s(),b("for","atajadas",i,""),s(2),b("id","atajadas",i,""),P("ngModel",e.atajadas),c("min",0)("max",100)("showButtons",!0)}}function Bi(t,r){if(t&1&&I(0,"app-formacion",40),t&2){let e=m();c("idPartido",e.idPartido)}}var Ce=class t{constructor(r,e,i,o){this.http=r;this.messageService=e;this.partidoService=i;this.confirmationService=o}partidos=[];modalVisible=!1;selectedMatch=this.getEmptyMatch();showPopoverBlanco=!1;showPopoverNegro=!1;mostrarModal=!1;idPartido;abrirModal(r){this.idPartido=r,this.mostrarModal=!0}ngOnInit(){this.cargarPartidos()}cargarPartidos(){this.http.get("https://bluelockb.onrender.com/api/partidos/listar-partidos").subscribe(r=>{this.partidos=r.map(e=>B(F({},e),{id:e._id}))})}editarPartido(r){this.selectedMatch=B(F({},r),{highlights:[...r.highlights]}),this.modalVisible=!0}getGoleadoresBlanco(){return this.selectedMatch?.highlights.filter(r=>r.equipo==="Blanco")||[]}getGoleadoresNegro(){return this.selectedMatch?.highlights.filter(r=>r.equipo==="Negro")||[]}actualizarMarcador(){let r=this.selectedMatch.highlights.filter(i=>i.equipo==="Blanco").reduce((i,o)=>i+o.goles,0),e=this.selectedMatch.highlights.filter(i=>i.equipo==="Negro").reduce((i,o)=>i+o.goles,0);this.selectedMatch.marcador={equipoBlanco:r,equipoNegro:e}}eliminarHighlight(r){this.selectedMatch.highlights=this.selectedMatch.highlights.filter(e=>e.jugador.id!==r),this.actualizarMarcador()}getJugadoresDisponibles(r){let e=r==="Blanco"?this.selectedMatch.equipoBlanco:this.selectedMatch.equipoNegro,i=this.selectedMatch.suplentes.filter(h=>h.equipo===r).map(h=>h.jugador),l=[...e.jugadores.map(h=>h.jugador),...i],d=this.selectedMatch.highlights.filter(h=>h.equipo===r).map(h=>h.jugador.id);return l.filter(h=>!d.includes(h.id))}agregarGoleador(r,e){this.selectedMatch.highlights.push({id:r.id,jugador:{id:r.id,nombre:r.apodo},goles:0,asistencias:0,atajadas:0,equipo:e}),e==="Blanco"?this.showPopoverBlanco=!1:this.showPopoverNegro=!1,this.actualizarMarcador()}eliminarPartido(r){this.confirmationService.confirm({message:"\xBFEst\xE1s seguro de que deseas eliminar el Partido?",header:"Confirmar",icon:"pi pi-exclamation-triangle",accept:()=>{this.partidoService.eliminarPartido(r).subscribe({next:()=>{this.messageService.add({severity:"success",summary:"Partido Eliminado",detail:"El partido se ha eliminado correctamente."}),this.partidos=this.partidos.filter(e=>e.id!==r)},error:e=>{let i=e?.error?.message||e?.message||"Hubo un problema al generar la alineaci\xF3n.";this.messageService.add({severity:"error",summary:"Error",detail:i})}})}})}verAlineacion(r){alert(`Alineacion de: ${r}`)}opcionesEstado=[{label:"Abierto",value:"Abierto"},{label:"Cerrado",value:"Cerrado"}];saveMatch(){if(this.partidos.findIndex(e=>e.id===this.selectedMatch.id)!==-1){let e=this.selectedMatch.highlights.filter(v=>v.equipo==="Blanco").reduce((v,we)=>v+we.goles,0),i=this.selectedMatch.highlights.filter(v=>v.equipo==="Negro").reduce((v,we)=>v+we.goles,0),o={equipoBlanco:e,equipoNegro:i},l=this.selectedMatch.highlights.map(v=>({jugador:v.jugador.id,equipo:v.equipo,goles:v.goles,asistencias:v.asistencias,atajadas:v.atajadas})),d=this.selectedMatch.estado,h={marcador:o,highlights:l,estado:d};this.http.put(`https://bluelockb.onrender.com/api/partidos/actualizar-partido/${this.selectedMatch.id}`,h).subscribe(v=>{this.modalVisible=!1,this.cargarPartidos(),this.messageService.add({severity:"success",summary:"Exitoso",detail:"El partido fue guardado correctamente"})},v=>{this.messageService.add({severity:"error",summary:"Error",detail:"Hubo un error al guardar el partido"})})}}getEmptyMatch(){return{id:"",fecha:new Date().toISOString(),equipoBlanco:{jugadores:[],mediaTotal:0},equipoNegro:{jugadores:[],mediaTotal:0},marcador:{equipoBlanco:0,equipoNegro:0},suplentes:[],highlights:[],estado:"Abierto"}}static \u0275fac=function(e){return new(e||t)(O(de),O(_e),O(Q),O(ge))};static \u0275cmp=T({type:t,selectors:[["app-partidos"]],features:[W([_e,ge])],decls:43,vars:20,consts:[["popoverBlanco",""],["popoverNegro",""],[1,"card","w-full","md:w-auto"],[1,"container"],[4,"ngIf"],[4,"ngFor","ngForOf"],["header","Editar Partido",3,"visibleChange","visible","modal","closable"],[1,"p-fluid","parent"],[1,"div1"],[1,"marcador"],["fluid","","required","",3,"ngModelChange","options","ngModel"],[1,"div2"],["label","A\xF1adir Anotador","icon","pi pi-plus",3,"click"],[1,"popover-content"],[3,"click",4,"ngFor","ngForOf"],[1,"div3"],[1,"div4"],[1,"div5"],[1,"div6"],["label","Guardar",1,"p-button-primary",3,"click"],["label","Cancelar",1,"p-button-secondary",3,"click"],["modal","","header","Formaci\xF3n del Partido",3,"visibleChange","visible"],[3,"idPartido",4,"ngIf"],["pTemplate","header"],["pTemplate","content"],[1,"fecha"],[1,"contenido"],[1,"numero"],[1,"equipo"],[1,"circulo","blanco"],[1,"circulo","negro"],["icon","pi pi-pencil","severity","success",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],["icon","pi pi-eye","severity","info",3,"click","rounded","outlined"],[3,"click"],[1,"p-field"],[1,"block","font-bold","mb-2",3,"id"],[1,"block","font-bold","mb-2",3,"for"],[3,"ngModelChange","id","ngModel","min","max","showButtons"],["icon","pi pi-times","styleClass","p-button-danger",3,"click"],[3,"idPartido"]],template:function(e,i){if(e&1){let o=y();n(0,"div",2)(1,"div",3),_(2,Pi,2,0,"p",4)(3,Ii,3,0,"p-card",5),a()(),n(4,"p-dialog",6),E("visibleChange",function(d){return u(o),M(i.modalVisible,d)||(i.modalVisible=d),g(d)}),n(5,"div",7)(6,"div",8),p(7," Equipo Blanco "),n(8,"span",9),p(9),a(),p(10," - Equipo Negro "),n(11,"span",9),p(12),a(),n(13,"p-select",10),E("ngModelChange",function(d){return u(o),M(i.selectedMatch.estado,d)||(i.selectedMatch.estado=d),g(d)}),a()(),n(14,"div",11)(15,"span"),p(16,"Goleadores Equipo Blanco"),a(),n(17,"p-button",12),f("click",function(d){u(o);let h=Me(19);return g(h.toggle(d))}),a(),n(18,"p-popover",null,0)(20,"div",13),_(21,ki,2,1,"p",14),a()()(),n(22,"div",15)(23,"span"),p(24,"Goleadores Equipo Negro"),a(),n(25,"p-button",12),f("click",function(d){u(o);let h=Me(27);return g(h.toggle(d))}),a(),n(26,"p-popover",null,1)(28,"div",13),_(29,Vi,2,1,"p",14),a()()(),n(30,"div",16),_(31,Ni,2,0,"p",4)(32,ji,14,27,"p-card",5),a(),n(33,"div",17),_(34,Oi,2,0,"p",4)(35,Fi,14,27,"p-card",5),a(),n(36,"div",18)(37,"p-button",19),f("click",function(){return u(o),g(i.saveMatch())}),a(),n(38,"p-button",20),f("click",function(){return u(o),g(i.modalVisible=!1)}),a()()()(),n(39,"p-dialog",21),E("visibleChange",function(d){return u(o),M(i.mostrarModal,d)||(i.mostrarModal=d),g(d)}),_(40,Bi,1,1,"app-formacion",22),a(),I(41,"p-toast")(42,"p-confirmdialog")}e&2&&(s(2),c("ngIf",i.partidos.length===0),s(),c("ngForOf",i.partidos),s(),P("visible",i.modalVisible),c("modal",!0)("closable",!0),s(5),S(i.selectedMatch.marcador.equipoBlanco),s(3),S(i.selectedMatch.marcador.equipoNegro),s(),c("options",i.opcionesEstado),P("ngModel",i.selectedMatch.estado),s(8),c("ngForOf",i.getJugadoresDisponibles("Blanco")),s(8),c("ngForOf",i.getJugadoresDisponibles("Negro")),s(2),c("ngIf",!i.getGoleadoresBlanco().length),s(),c("ngForOf",i.getGoleadoresBlanco()),s(2),c("ngIf",!i.getGoleadoresNegro().length),s(),c("ngForOf",i.getGoleadoresNegro()),s(4),P("visible",i.mostrarModal),s(),c("ngIf",i.mostrarModal),s(2),J(G(19,Ti)))},dependencies:[N,se,V,He,vt,R,nt,it,rt,ot,mt,dt,ut,_t,gt,xt,Ct,be,Z,Et,je,yt,bt,St,wt,ye,ht,ft],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;padding:20px}.partido-card[_ngcontent-%COMP%]{background:flex;color:flex;padding:10px;border-radius:10px;display:flex;flex-direction:column;border:1px solid #2e2e42}.fecha[_ngcontent-%COMP%]{font-size:.8rem;color:#b0b0b0;margin-bottom:5px}.contenido[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;flex-wrap:wrap}.numero[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.equipo[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.circulo[_ngcontent-%COMP%]{width:20px;height:20px;border-radius:50%;outline:auto}.blanco[_ngcontent-%COMP%]{background:#fff}.negro[_ngcontent-%COMP%]{background:#000}.marcador[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.edit[_ngcontent-%COMP%]{margin-left:auto;color:#007bff}.delete[_ngcontent-%COMP%]{color:red}.parent[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);grid-template-rows:repeat(6,1fr);gap:8px}.div1[_ngcontent-%COMP%]{grid-column:span 4 / span 4}.div2[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-row-start:2}.div3[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-column-start:3;grid-row-start:2}.div4[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-row:span 3 / span 3;grid-row-start:3}.div5[_ngcontent-%COMP%]{grid-column:span 2 / span 2;grid-row:span 3 / span 3;grid-column-start:3;grid-row-start:3}.div6[_ngcontent-%COMP%]{grid-column:span 4 / span 4;grid-row-start:6}"]})};var xe=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-nuevo-partido"]],decls:5,vars:0,consts:[[1,"card"],[1,"font-semibold","text-xl","mb-4"]],template:function(e,i){e&1&&(n(0,"div",0)(1,"div",1),p(2,"Nuevo Partido"),a(),n(3,"p"),p(4,"Use this page to start from scratch and place your custom content for NUEVO Partido PARTIDOS."),a()())},encapsulation:2})};var ir=[{path:"partidos",component:Ce},{path:"nuevoPartido",component:xe}];export{ir as default};
